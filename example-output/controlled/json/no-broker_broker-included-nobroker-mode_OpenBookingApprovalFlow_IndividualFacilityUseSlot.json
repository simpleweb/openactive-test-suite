{
  "flow": {
    "Booking System Test Interface for OrderItem 0": {
      "events": [],
      "request": {
        "@type": "Slot",
        "facilityUse": {
          "@type": "IndividualFacilityUse",
          "provider": {
            "@type": "Organization",
            "@id": "https://localhost:5001/api/identifiers/sellers/1"
          }
        },
        "@context": [
          "https://openactive.io/",
          "https://openactive.io/test-interface"
        ],
        "test:testOpportunityCriteria": "https://openactive.io/test-interface#TestOpportunityBookable",
        "test:testOpenBookingFlow": "https://openactive.io/test-interface#OpenBookingApprovalFlow"
      },
      "response": {
        "body": {
          "@context": "https://openactive.io/",
          "@type": "Slot",
          "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221"
        },
        "responseTime": 38.384449,
        "status": 200,
        "statusMessage": "OK",
        "headers": {
          "connection": "close",
          "date": "Fri, 31 Jan 2025 11:15:39 GMT",
          "content-type": "application/vnd.openactive.booking+json; version=1",
          "server": "Kestrel",
          "content-length": "157"
        }
      }
    },
    "Opportunity Feed extract for OrderItem 0": {
      "events": [],
      "response": {
        "body": {
          "data": {
            "@context": [
              "https://openactive.io/"
            ],
            "@type": "Slot",
            "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221",
            "identifier": 20221,
            "duration": "PT1H",
            "facilityUse": {
              "@type": "IndividualFacilityUse",
              "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1",
              "name": "Court 1 on [OPEN BOOKING API TEST INTERFACE] Bookable Facility",
              "aggregateFacilityUse": {
                "@type": "FacilityUse",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221",
                "identifier": 2221,
                "name": "[OPEN BOOKING API TEST INTERFACE] Bookable Facility",
                "facilityType": [
                  {
                    "@type": "Concept",
                    "@id": "https://openactive.io/facility-types#a1f82b7a-1258-4d9a-8dc5-bfc2ae961651",
                    "inScheme": "https://openactive.io/facility-types",
                    "prefLabel": "Squash Court"
                  }
                ],
                "location": {
                  "@type": "Place",
                  "@id": "https://example.com/place/1",
                  "identifier": 1,
                  "name": "Post-ercise Plaza",
                  "description": "Sorting Out Your Fitness One Parcel Lift at a Time! Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
                  "address": {
                    "@type": "PostalAddress",
                    "addressCountry": "GB",
                    "addressLocality": "Oxford",
                    "addressRegion": "Oxfordshire",
                    "postalCode": "OX1 1AA",
                    "streetAddress": "Kings Mead House"
                  },
                  "amenityFeature": [
                    {
                      "@type": "ChangingFacilities",
                      "name": "Changing Facilities",
                      "value": true
                    },
                    {
                      "@type": "Showers",
                      "name": "Showers",
                      "value": true
                    },
                    {
                      "@type": "Lockers",
                      "name": "Lockers",
                      "value": true
                    },
                    {
                      "@type": "Towels",
                      "name": "Towels",
                      "value": false
                    },
                    {
                      "@type": "Creche",
                      "name": "Creche",
                      "value": false
                    },
                    {
                      "@type": "Parking",
                      "name": "Parking",
                      "value": false
                    }
                  ],
                  "geo": {
                    "@type": "GeoCoordinates",
                    "latitude": 51.7502,
                    "longitude": -1.2674
                  },
                  "image": [
                    {
                      "@type": "ImageObject",
                      "url": "https://upload.wikimedia.org/wikipedia/commons/e/e5/Oxford_StAldates_PostOffice.jpg"
                    }
                  ],
                  "openingHoursSpecification": [
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "17:30",
                      "dayOfWeek": [
                        "https://schema.org/Sunday"
                      ],
                      "opens": "09:00"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Monday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Tuesday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Wednesday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Thursday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Friday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "17:30",
                      "dayOfWeek": [
                        "https://schema.org/Saturday"
                      ],
                      "opens": "09:00"
                    }
                  ],
                  "telephone": "01865 000001",
                  "url": "https://en.wikipedia.org/wiki/Post_Office_Limited"
                },
                "provider": {
                  "@type": "Organization",
                  "@id": "https://localhost:5001/api/identifiers/sellers/1",
                  "name": "Acme Fitness Ltd",
                  "isOpenBookingAllowed": true,
                  "sameAs": [
                    "https://socialmedia.com/AcmeFitnessLtd"
                  ],
                  "taxMode": "https://openactive.io/TaxGross",
                  "telephone": "09406 725449",
                  "termsOfService": [
                    {
                      "@type": "PrivacyPolicy",
                      "name": "Privacy Policy",
                      "requiresExplicitConsent": false,
                      "url": "https://example.com/privacy.html"
                    }
                  ],
                  "url": "https://dakota.name"
                },
                "url": "https://www.example.com/facilities/2221"
              }
            },
            "maximumUses": 10,
            "offers": [
              {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
                "acceptedPaymentMethod": [
                  "http://purl.org/goodrelations/v1#Cash",
                  "http://purl.org/goodrelations/v1#PaymentMethodCreditCard"
                ],
                "allowCustomerCancellationFullRefund": true,
                "openBookingFlowRequirement": [
                  "https://openactive.io/OpenBookingApproval"
                ],
                "price": 14.99,
                "priceCurrency": "GBP"
              },
              {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
                "acceptedPaymentMethod": [
                  "http://purl.org/goodrelations/v1#Cash",
                  "http://purl.org/goodrelations/v1#PaymentMethodCreditCard"
                ],
                "allowCustomerCancellationFullRefund": true,
                "openBookingFlowRequirement": [
                  "https://openactive.io/OpenBookingApproval"
                ],
                "price": 14.99,
                "priceCurrency": "GBP"
              },
              {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
                "acceptedPaymentMethod": [
                  "http://purl.org/goodrelations/v1#Cash",
                  "http://purl.org/goodrelations/v1#PaymentMethodCreditCard"
                ],
                "allowCustomerCancellationFullRefund": true,
                "openBookingFlowRequirement": [
                  "https://openactive.io/OpenBookingApproval"
                ],
                "price": 14.99,
                "priceCurrency": "GBP"
              }
            ],
            "remainingUses": 9,
            "startDate": "2025-02-01T11:15:39+00:00",
            "endDate": "2025-02-01T12:15:39+00:00"
          }
        },
        "responseTime": 16.301989,
        "status": 200,
        "statusMessage": "OK",
        "headers": {
          "x-powered-by": "Express",
          "content-type": "application/json; charset=utf-8",
          "content-length": "4900",
          "etag": "W/\"1324-u0T4XXkOC1se73m9MOryiUeEpTw\"",
          "date": "Fri, 31 Jan 2025 11:15:41 GMT",
          "connection": "close"
        },
        "validations": [
          {
            "path": "$.facilityUse.description",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `description` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
          },
          {
            "path": "$.facilityUse.image",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `image` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
          },
          {
            "path": "$.facilityUse.hoursAvailable",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `hoursAvailable` is missing from `IndividualFacilityUse`."
          },
          {
            "path": "$.facilityUse.aggregateFacilityUse.description",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `description` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
          },
          {
            "path": "$.facilityUse.aggregateFacilityUse.image",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `image` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
          },
          {
            "path": "$.facilityUse.aggregateFacilityUse.hoursAvailable",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `hoursAvailable` is missing from `FacilityUse`."
          },
          {
            "path": "$.facilityUse.aggregateFacilityUse.offers",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `offers` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"offers\": {\n  \"@type\": \"Offer\",\n  \"identifier\": \"OX-AD\",\n  \"name\": \"Adult\",\n  \"price\": 7.5,\n  \"priceCurrency\": \"GBP\",\n  \"url\": \"https://profile.everyoneactive.com/booking?Site=0140&Activities=1402CBP20150217&Culture=en-GB\"\n}\n```"
          },
          {
            "path": "$.offers[0].name",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
          },
          {
            "path": "$.offers[0].ageRestriction",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
          },
          {
            "path": "$.offers[1].name",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
          },
          {
            "path": "$.offers[1].ageRestriction",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
          },
          {
            "path": "$.offers[2].name",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
          },
          {
            "path": "$.offers[2].ageRestriction",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
          }
        ]
      }
    },
    "C1": {
      "events": [],
      "request": {
        "@context": "https://openactive.io/",
        "@type": "OrderQuote",
        "brokerRole": "https://openactive.io/NoBroker",
        "seller": "https://localhost:5001/api/identifiers/sellers/1",
        "orderedItem": [
          {
            "@type": "OrderItem",
            "position": 0,
            "acceptedOffer": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
            "orderedItem": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221"
          }
        ],
        "payment": {
          "@type": "Payment",
          "name": "AcmeBroker Points",
          "accountId": "SN1593",
          "paymentProviderId": "STRIPE"
        }
      },
      "response": {
        "body": {
          "@context": "https://openactive.io/",
          "@type": "OrderQuote",
          "@id": "https://localhost:5001/api/openbooking/order-quotes/8f9e563e-e12f-4533-a1d9-a212da0cf1e6",
          "lease": {
            "@type": "Lease",
            "leaseExpires": "2025-01-31T11:20:40+00:00"
          },
          "orderRequiresApproval": true,
          "bookingService": {
            "@type": "BookingService",
            "name": "Acme booking system",
            "termsOfService": [
              {
                "@type": "PrivacyPolicy",
                "name": "Privacy Policy",
                "requiresExplicitConsent": false,
                "url": "https://example.com/privacy.html"
              }
            ],
            "url": "https://example.com"
          },
          "broker": {
            "@type": "Organization"
          },
          "brokerRole": "https://openactive.io/NoBroker",
          "orderedItem": [
            {
              "@type": "OrderItem",
              "acceptedOffer": {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
                "allowCustomerCancellationFullRefund": true,
                "price": 14.99,
                "priceCurrency": "GBP"
              },
              "orderedItem": {
                "@type": "Slot",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221",
                "facilityUse": {
                  "@type": "IndividualFacilityUse",
                  "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1",
                  "aggregateFacilityUse": {
                    "@type": "FacilityUse",
                    "@id": "https://localhost:5001/api/identifiers/facility-uses/2221",
                    "name": "[OPEN BOOKING API TEST INTERFACE] Bookable Facility",
                    "facilityType": [
                      {
                        "@type": "Concept",
                        "@id": "https://openactive.io/facility-types#a1f82b7a-1258-4d9a-8dc5-bfc2ae961651",
                        "inScheme": "https://openactive.io/facility-types",
                        "prefLabel": "Squash Court"
                      }
                    ],
                    "location": {
                      "@type": "Place",
                      "@id": "https://example.com/place/1",
                      "identifier": 1,
                      "name": "Post-ercise Plaza",
                      "description": "Sorting Out Your Fitness One Parcel Lift at a Time! Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
                      "address": {
                        "@type": "PostalAddress",
                        "addressCountry": "GB",
                        "addressLocality": "Oxford",
                        "addressRegion": "Oxfordshire",
                        "postalCode": "OX1 1AA",
                        "streetAddress": "Kings Mead House"
                      },
                      "amenityFeature": [
                        {
                          "@type": "ChangingFacilities",
                          "name": "Changing Facilities",
                          "value": true
                        },
                        {
                          "@type": "Showers",
                          "name": "Showers",
                          "value": true
                        },
                        {
                          "@type": "Lockers",
                          "name": "Lockers",
                          "value": true
                        },
                        {
                          "@type": "Towels",
                          "name": "Towels",
                          "value": false
                        },
                        {
                          "@type": "Creche",
                          "name": "Creche",
                          "value": false
                        },
                        {
                          "@type": "Parking",
                          "name": "Parking",
                          "value": false
                        }
                      ],
                      "geo": {
                        "@type": "GeoCoordinates",
                        "latitude": 51.7502,
                        "longitude": -1.2674
                      },
                      "image": [
                        {
                          "@type": "ImageObject",
                          "url": "https://upload.wikimedia.org/wikipedia/commons/e/e5/Oxford_StAldates_PostOffice.jpg"
                        }
                      ],
                      "openingHoursSpecification": [
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "17:30",
                          "dayOfWeek": [
                            "https://schema.org/Sunday"
                          ],
                          "opens": "09:00"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Monday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Tuesday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Wednesday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Thursday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Friday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "17:30",
                          "dayOfWeek": [
                            "https://schema.org/Saturday"
                          ],
                          "opens": "09:00"
                        }
                      ],
                      "telephone": "01865 000001",
                      "url": "https://en.wikipedia.org/wiki/Post_Office_Limited"
                    },
                    "url": "https://example.com/events/2221"
                  },
                  "name": "Court 1 on [OPEN BOOKING API TEST INTERFACE] Bookable Facility"
                },
                "maximumUses": 10,
                "remainingUses": 10,
                "startDate": "2025-02-01T11:15:39+00:00",
                "endDate": "2025-02-01T12:15:39+00:00"
              },
              "position": 0,
              "unitTaxSpecification": [
                {
                  "@type": "TaxChargeSpecification",
                  "name": "VAT at 20%",
                  "price": 2.998,
                  "priceCurrency": "GBP",
                  "rate": 0.2
                }
              ]
            }
          ],
          "payment": {
            "@type": "Payment",
            "name": "AcmeBroker Points",
            "accountId": "SN1593",
            "paymentProviderId": "STRIPE"
          },
          "seller": {
            "@type": "Organization",
            "@id": "https://localhost:5001/api/identifiers/sellers/1",
            "name": "Acme Fitness Ltd",
            "address": {
              "@type": "PostalAddress",
              "addressCountry": "GB",
              "addressLocality": "Another town",
              "addressRegion": "Oxfordshire",
              "postalCode": "OX1 1AA",
              "streetAddress": "1 Hidden Gem"
            },
            "isOpenBookingAllowed": true,
            "legalName": "Acme Fitness Ltd",
            "taxMode": "https://openactive.io/TaxGross",
            "termsOfService": [
              {
                "@type": "PrivacyPolicy",
                "name": "Privacy Policy",
                "requiresExplicitConsent": false,
                "url": "https://example.com/privacy.html"
              }
            ]
          },
          "totalPaymentDue": {
            "@type": "PriceSpecification",
            "openBookingPrepayment": "https://openactive.io/Required",
            "price": 14.99,
            "priceCurrency": "GBP"
          },
          "totalPaymentTax": [
            {
              "@type": "TaxChargeSpecification",
              "name": "VAT at 20%",
              "price": 2.998,
              "priceCurrency": "GBP",
              "rate": 0.2
            }
          ]
        },
        "responseTime": 58.318956,
        "status": 200,
        "statusMessage": "OK",
        "headers": {
          "connection": "close",
          "date": "Fri, 31 Jan 2025 11:15:39 GMT",
          "content-type": "application/vnd.openactive.booking+json; version=1",
          "server": "Kestrel",
          "content-length": "5009"
        },
        "validations": [
          {
            "path": "$.orderedItem[0].acceptedOffer.name",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
          },
          {
            "path": "$.orderedItem[0].acceptedOffer.ageRestriction",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
          },
          {
            "path": "$.orderedItem[0].orderedItem.duration",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `duration` is missing from `Slot`.\n\nA full example looks like this:\n\n```\n\"duration\": \"PT1H\"\n```"
          },
          {
            "path": "$.orderedItem[0].orderedItem.facilityUse.description",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `description` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
          },
          {
            "path": "$.orderedItem[0].orderedItem.facilityUse.image",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `image` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
          },
          {
            "path": "$.orderedItem[0].orderedItem.facilityUse.hoursAvailable",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `hoursAvailable` is missing from `IndividualFacilityUse`."
          },
          {
            "path": "$.orderedItem[0].orderedItem.facilityUse.aggregateFacilityUse.description",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `description` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
          },
          {
            "path": "$.orderedItem[0].orderedItem.facilityUse.aggregateFacilityUse.image",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `image` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
          },
          {
            "path": "$.orderedItem[0].orderedItem.facilityUse.aggregateFacilityUse.hoursAvailable",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `hoursAvailable` is missing from `FacilityUse`."
          },
          {
            "path": "$.orderedItem[0].orderedItem.facilityUse.aggregateFacilityUse.offers",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `offers` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"offers\": {\n  \"@type\": \"Offer\",\n  \"identifier\": \"OX-AD\",\n  \"name\": \"Adult\",\n  \"price\": 7.5,\n  \"priceCurrency\": \"GBP\",\n  \"url\": \"https://profile.everyoneactive.com/booking?Site=0140&Activities=1402CBP20150217&Culture=en-GB\"\n}\n```"
          },
          {
            "path": "$.seller.email",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `email` is missing from `Organization`.\n\nA full example looks like this:\n\n```\n\"email\": \"info@example.com\"\n```"
          },
          {
            "path": "$.seller.url",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `url` is missing from `Organization`.\n\nA full example looks like this:\n\n```\n\"url\": \"http://www.speedball-world.com\"\n```"
          },
          {
            "path": "$.seller.logo",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `logo` is missing from `Organization`.\n\nA full example looks like this:\n\n```\n\"logo\": {\n  \"@type\": \"ImageObject\",\n  \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n}\n```"
          },
          {
            "path": "$.seller.vatID",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `vatID` is missing from `Organization`."
          }
        ]
      }
    },
    "C2": {
      "events": [],
      "request": {
        "@context": "https://openactive.io/",
        "@type": "OrderQuote",
        "brokerRole": "https://openactive.io/NoBroker",
        "seller": "https://localhost:5001/api/identifiers/sellers/1",
        "customer": {
          "@type": "Person",
          "email": "Barbara93@gmail.com",
          "telephone": "(964) 726-4593 x036"
        },
        "orderedItem": [
          {
            "@type": "OrderItem",
            "position": 0,
            "acceptedOffer": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
            "orderedItem": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221"
          }
        ],
        "payment": {
          "@type": "Payment",
          "name": "AcmeBroker Points",
          "accountId": "SN1593",
          "paymentProviderId": "STRIPE"
        }
      },
      "response": {
        "body": {
          "@context": "https://openactive.io/",
          "@type": "OrderQuote",
          "@id": "https://localhost:5001/api/openbooking/order-quotes/8f9e563e-e12f-4533-a1d9-a212da0cf1e6",
          "lease": {
            "@type": "Lease",
            "leaseExpires": "2025-01-31T11:20:41+00:00"
          },
          "orderRequiresApproval": true,
          "bookingService": {
            "@type": "BookingService",
            "name": "Acme booking system",
            "termsOfService": [
              {
                "@type": "PrivacyPolicy",
                "name": "Privacy Policy",
                "requiresExplicitConsent": false,
                "url": "https://example.com/privacy.html"
              }
            ],
            "url": "https://example.com"
          },
          "broker": {
            "@type": "Organization"
          },
          "brokerRole": "https://openactive.io/NoBroker",
          "customer": {
            "@type": "Person",
            "email": "Barbara93@gmail.com",
            "telephone": "(964) 726-4593 x036"
          },
          "orderedItem": [
            {
              "@type": "OrderItem",
              "acceptedOffer": {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
                "allowCustomerCancellationFullRefund": true,
                "price": 14.99,
                "priceCurrency": "GBP"
              },
              "orderedItem": {
                "@type": "Slot",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221",
                "facilityUse": {
                  "@type": "IndividualFacilityUse",
                  "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1",
                  "aggregateFacilityUse": {
                    "@type": "FacilityUse",
                    "@id": "https://localhost:5001/api/identifiers/facility-uses/2221",
                    "name": "[OPEN BOOKING API TEST INTERFACE] Bookable Facility",
                    "facilityType": [
                      {
                        "@type": "Concept",
                        "@id": "https://openactive.io/facility-types#a1f82b7a-1258-4d9a-8dc5-bfc2ae961651",
                        "inScheme": "https://openactive.io/facility-types",
                        "prefLabel": "Squash Court"
                      }
                    ],
                    "location": {
                      "@type": "Place",
                      "@id": "https://example.com/place/1",
                      "identifier": 1,
                      "name": "Post-ercise Plaza",
                      "description": "Sorting Out Your Fitness One Parcel Lift at a Time! Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
                      "address": {
                        "@type": "PostalAddress",
                        "addressCountry": "GB",
                        "addressLocality": "Oxford",
                        "addressRegion": "Oxfordshire",
                        "postalCode": "OX1 1AA",
                        "streetAddress": "Kings Mead House"
                      },
                      "amenityFeature": [
                        {
                          "@type": "ChangingFacilities",
                          "name": "Changing Facilities",
                          "value": true
                        },
                        {
                          "@type": "Showers",
                          "name": "Showers",
                          "value": true
                        },
                        {
                          "@type": "Lockers",
                          "name": "Lockers",
                          "value": true
                        },
                        {
                          "@type": "Towels",
                          "name": "Towels",
                          "value": false
                        },
                        {
                          "@type": "Creche",
                          "name": "Creche",
                          "value": false
                        },
                        {
                          "@type": "Parking",
                          "name": "Parking",
                          "value": false
                        }
                      ],
                      "geo": {
                        "@type": "GeoCoordinates",
                        "latitude": 51.7502,
                        "longitude": -1.2674
                      },
                      "image": [
                        {
                          "@type": "ImageObject",
                          "url": "https://upload.wikimedia.org/wikipedia/commons/e/e5/Oxford_StAldates_PostOffice.jpg"
                        }
                      ],
                      "openingHoursSpecification": [
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "17:30",
                          "dayOfWeek": [
                            "https://schema.org/Sunday"
                          ],
                          "opens": "09:00"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Monday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Tuesday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Wednesday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Thursday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Friday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "17:30",
                          "dayOfWeek": [
                            "https://schema.org/Saturday"
                          ],
                          "opens": "09:00"
                        }
                      ],
                      "telephone": "01865 000001",
                      "url": "https://en.wikipedia.org/wiki/Post_Office_Limited"
                    },
                    "url": "https://example.com/events/2221"
                  },
                  "name": "Court 1 on [OPEN BOOKING API TEST INTERFACE] Bookable Facility"
                },
                "maximumUses": 10,
                "remainingUses": 10,
                "startDate": "2025-02-01T11:15:39+00:00",
                "endDate": "2025-02-01T12:15:39+00:00"
              },
              "position": 0,
              "unitTaxSpecification": [
                {
                  "@type": "TaxChargeSpecification",
                  "name": "VAT at 20%",
                  "price": 2.998,
                  "priceCurrency": "GBP",
                  "rate": 0.2
                }
              ]
            }
          ],
          "payment": {
            "@type": "Payment",
            "name": "AcmeBroker Points",
            "accountId": "SN1593",
            "paymentProviderId": "STRIPE"
          },
          "seller": {
            "@type": "Organization",
            "@id": "https://localhost:5001/api/identifiers/sellers/1",
            "name": "Acme Fitness Ltd",
            "address": {
              "@type": "PostalAddress",
              "addressCountry": "GB",
              "addressLocality": "Another town",
              "addressRegion": "Oxfordshire",
              "postalCode": "OX1 1AA",
              "streetAddress": "1 Hidden Gem"
            },
            "isOpenBookingAllowed": true,
            "legalName": "Acme Fitness Ltd",
            "taxMode": "https://openactive.io/TaxGross",
            "termsOfService": [
              {
                "@type": "PrivacyPolicy",
                "name": "Privacy Policy",
                "requiresExplicitConsent": false,
                "url": "https://example.com/privacy.html"
              }
            ]
          },
          "totalPaymentDue": {
            "@type": "PriceSpecification",
            "openBookingPrepayment": "https://openactive.io/Required",
            "price": 14.99,
            "priceCurrency": "GBP"
          },
          "totalPaymentTax": [
            {
              "@type": "TaxChargeSpecification",
              "name": "VAT at 20%",
              "price": 2.998,
              "priceCurrency": "GBP",
              "rate": 0.2
            }
          ]
        },
        "responseTime": 67.016036,
        "status": 200,
        "statusMessage": "OK",
        "headers": {
          "connection": "close",
          "date": "Fri, 31 Jan 2025 11:15:41 GMT",
          "content-type": "application/vnd.openactive.booking+json; version=1",
          "server": "Kestrel",
          "content-length": "5103"
        },
        "validations": [
          {
            "path": "$.orderedItem[0].acceptedOffer.name",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
          },
          {
            "path": "$.orderedItem[0].acceptedOffer.ageRestriction",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
          },
          {
            "path": "$.orderedItem[0].orderedItem.duration",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `duration` is missing from `Slot`.\n\nA full example looks like this:\n\n```\n\"duration\": \"PT1H\"\n```"
          },
          {
            "path": "$.orderedItem[0].orderedItem.facilityUse.description",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `description` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
          },
          {
            "path": "$.orderedItem[0].orderedItem.facilityUse.image",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `image` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
          },
          {
            "path": "$.orderedItem[0].orderedItem.facilityUse.hoursAvailable",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `hoursAvailable` is missing from `IndividualFacilityUse`."
          },
          {
            "path": "$.orderedItem[0].orderedItem.facilityUse.aggregateFacilityUse.description",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `description` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
          },
          {
            "path": "$.orderedItem[0].orderedItem.facilityUse.aggregateFacilityUse.image",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `image` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
          },
          {
            "path": "$.orderedItem[0].orderedItem.facilityUse.aggregateFacilityUse.hoursAvailable",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `hoursAvailable` is missing from `FacilityUse`."
          },
          {
            "path": "$.orderedItem[0].orderedItem.facilityUse.aggregateFacilityUse.offers",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `offers` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"offers\": {\n  \"@type\": \"Offer\",\n  \"identifier\": \"OX-AD\",\n  \"name\": \"Adult\",\n  \"price\": 7.5,\n  \"priceCurrency\": \"GBP\",\n  \"url\": \"https://profile.everyoneactive.com/booking?Site=0140&Activities=1402CBP20150217&Culture=en-GB\"\n}\n```"
          },
          {
            "path": "$.seller.email",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `email` is missing from `Organization`.\n\nA full example looks like this:\n\n```\n\"email\": \"info@example.com\"\n```"
          },
          {
            "path": "$.seller.url",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `url` is missing from `Organization`.\n\nA full example looks like this:\n\n```\n\"url\": \"http://www.speedball-world.com\"\n```"
          },
          {
            "path": "$.seller.logo",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `logo` is missing from `Organization`.\n\nA full example looks like this:\n\n```\n\"logo\": {\n  \"@type\": \"ImageObject\",\n  \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n}\n```"
          },
          {
            "path": "$.seller.vatID",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `vatID` is missing from `Organization`."
          }
        ]
      }
    },
    "P": {
      "events": [],
      "request": {
        "@context": "https://openactive.io/",
        "@type": "OrderProposal",
        "brokerRole": "https://openactive.io/NoBroker",
        "broker": {
          "@type": "Organization",
          "name": "MyFitnessApp",
          "url": "https://myfitnessapp.example.com",
          "description": "A fitness app for all the community",
          "logo": {
            "@type": "ImageObject",
            "url": "http://data.myfitnessapp.org.uk/images/logo.png"
          },
          "address": {
            "@type": "PostalAddress",
            "streetAddress": "Alan Peacock Way",
            "addressLocality": "Village East",
            "addressRegion": "Middlesbrough",
            "postalCode": "TS4 3AE",
            "addressCountry": "GB"
          }
        },
        "seller": "https://localhost:5001/api/identifiers/sellers/1",
        "customer": {
          "@type": "Person",
          "email": "Barbara93@gmail.com",
          "telephone": "(964) 726-4593 x036"
        },
        "orderedItem": [
          {
            "@type": "OrderItem",
            "position": 0,
            "acceptedOffer": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
            "orderedItem": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221"
          }
        ],
        "totalPaymentDue": {
          "@type": "PriceSpecification",
          "price": 14.99,
          "priceCurrency": "GBP"
        },
        "payment": {
          "@type": "Payment",
          "identifier": "KmxpePJZC_",
          "name": "AcmeBroker Points",
          "accountId": "SN1593",
          "paymentProviderId": "STRIPE"
        }
      },
      "response": {
        "body": {
          "@context": "https://openactive.io/",
          "@type": "IncompleteBrokerDetailsError",
          "name": "The 'name' property is not supplied within the 'Organisation' object describing the Broker; or the 'broker' property supplied is not a valid 'Organisation' object.",
          "statusCode": 400
        },
        "responseTime": 45.561606,
        "status": 400,
        "statusMessage": "Bad Request",
        "headers": {
          "connection": "close",
          "date": "Fri, 31 Jan 2025 11:15:41 GMT",
          "content-type": "application/vnd.openactive.booking+json; version=1",
          "server": "Kestrel",
          "content-length": "266"
        },
        "validations": [
          {
            "path": "$.description",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `description` is missing from `IncompleteBrokerDetailsError`.\n\nA full example looks like this:\n\n```\n\"description\": \"No customer details supplied. These must be supplied for calls to C2, P, and B.\"\n```"
          },
          {
            "path": "$.instance",
            "rule": "RecommendedFieldsRule",
            "category": "conformance",
            "type": "missing_recommended_field",
            "severity": "warning",
            "message": "Recommended property `instance` is missing from `IncompleteBrokerDetailsError`."
          }
        ]
      }
    },
    "Booking should fail because Broker is included in Order in NoBroker mode": {
      "events": [],
      "response": {
        "specs": [
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at C1",
              "Fetch Opportunities"
            ],
            "duration": 1,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Fetch Opportunities should return 200 on success for request relevant to OrderItem 0",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "should return 200 on success for request relevant to OrderItem 0"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at C1",
              "Fetch Opportunities",
              "validation of Opportunity Feed extract for OrderItem 0"
            ],
            "duration": 123,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "passes validation checks"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at C1",
              "Fetch Opportunities",
              "validation of Opportunity Feed extract for OrderItem 0"
            ],
            "duration": 0,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 matches the criteria 'TestOpportunityBookable' required for this test",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "matches the criteria 'TestOpportunityBookable' required for this test"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at C1",
              "C1",
              "validation of C1"
            ],
            "duration": 3,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 C1 validation of C1 passes validation checks",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "passes validation checks"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at C1",
              "Assert Opportunity Capacity (after C1)"
            ],
            "duration": 0,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Assert Opportunity Capacity (after C1) should return 200 on success for request relevant to OrderItem 0",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "should return 200 on success for request relevant to OrderItem 0"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at C1",
              "Assert Opportunity Capacity (after C1)",
              "validation of Opportunity Feed extract for OrderItem 0"
            ],
            "duration": 120,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Assert Opportunity Capacity (after C1) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "passes validation checks"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at C1",
              "Assert Opportunity Capacity (after C1)"
            ],
            "duration": 1,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Assert Opportunity Capacity (after C1) should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at C2",
              "Fetch Opportunities"
            ],
            "duration": 0,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Fetch Opportunities should return 200 on success for request relevant to OrderItem 0",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "should return 200 on success for request relevant to OrderItem 0"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at C2",
              "Fetch Opportunities",
              "validation of Opportunity Feed extract for OrderItem 0"
            ],
            "duration": 97,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "passes validation checks"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at C2",
              "Fetch Opportunities",
              "validation of Opportunity Feed extract for OrderItem 0"
            ],
            "duration": 0,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 matches the criteria 'TestOpportunityBookable' required for this test",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "matches the criteria 'TestOpportunityBookable' required for this test"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at C2",
              "C1"
            ],
            "duration": 0,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 C1 should return 200 on success",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "should return 200 on success"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at C2",
              "C1"
            ],
            "duration": 1,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 C1 Should have the same number of OrderItems as criteria",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "Should have the same number of OrderItems as criteria"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at C2",
              "C1"
            ],
            "duration": 0,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 C1 OrderItem at position 0 - capacities should not have changed from their initial values after C1/C2 (regardless of leasing)",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "OrderItem at position 0 - capacities should not have changed from their initial values after C1/C2 (regardless of leasing)"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at C2",
              "C1",
              "validation of C1"
            ],
            "duration": 89,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 C1 validation of C1 passes validation checks",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "passes validation checks"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at C2",
              "Assert Opportunity Capacity (after C1)"
            ],
            "duration": 0,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Assert Opportunity Capacity (after C1) should return 200 on success for request relevant to OrderItem 0",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "should return 200 on success for request relevant to OrderItem 0"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at C2",
              "Assert Opportunity Capacity (after C1)",
              "validation of Opportunity Feed extract for OrderItem 0"
            ],
            "duration": 49,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Assert Opportunity Capacity (after C1) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "passes validation checks"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at C2",
              "C2",
              "validation of C2"
            ],
            "duration": 13,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 C2 validation of C2 passes validation checks",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "passes validation checks"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at C2",
              "Assert Opportunity Capacity (after C2)"
            ],
            "duration": 0,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Assert Opportunity Capacity (after C2) should return 200 on success for request relevant to OrderItem 0",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "should return 200 on success for request relevant to OrderItem 0"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at C2",
              "Assert Opportunity Capacity (after C2)",
              "validation of Opportunity Feed extract for OrderItem 0"
            ],
            "duration": 88,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Assert Opportunity Capacity (after C2) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "passes validation checks"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at C2",
              "Assert Opportunity Capacity (after C2)"
            ],
            "duration": 0,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Assert Opportunity Capacity (after C2) should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at B or P",
              "Fetch Opportunities"
            ],
            "duration": 0,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Fetch Opportunities should return 200 on success for request relevant to OrderItem 0",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "should return 200 on success for request relevant to OrderItem 0"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at B or P",
              "Fetch Opportunities",
              "validation of Opportunity Feed extract for OrderItem 0"
            ],
            "duration": 78,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "passes validation checks"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at B or P",
              "Fetch Opportunities",
              "validation of Opportunity Feed extract for OrderItem 0"
            ],
            "duration": 0,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 matches the criteria 'TestOpportunityBookable' required for this test",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "matches the criteria 'TestOpportunityBookable' required for this test"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at B or P",
              "C1"
            ],
            "duration": 0,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C1 should return 200 on success",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "should return 200 on success"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at B or P",
              "C1"
            ],
            "duration": 1,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C1 Should have the same number of OrderItems as criteria",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "Should have the same number of OrderItems as criteria"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at B or P",
              "C1"
            ],
            "duration": 0,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C1 OrderItem at position 0 - capacities should not have changed from their initial values after C1/C2 (regardless of leasing)",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "OrderItem at position 0 - capacities should not have changed from their initial values after C1/C2 (regardless of leasing)"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at B or P",
              "C1",
              "validation of C1"
            ],
            "duration": 110,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C1 validation of C1 passes validation checks",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "passes validation checks"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at B or P",
              "Assert Opportunity Capacity (after C1)"
            ],
            "duration": 0,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Assert Opportunity Capacity (after C1) should return 200 on success for request relevant to OrderItem 0",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "should return 200 on success for request relevant to OrderItem 0"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at B or P",
              "Assert Opportunity Capacity (after C1)",
              "validation of Opportunity Feed extract for OrderItem 0"
            ],
            "duration": 95,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Assert Opportunity Capacity (after C1) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "passes validation checks"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at B or P",
              "C2"
            ],
            "duration": 0,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C2 should return 200 on success",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "should return 200 on success"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at B or P",
              "C2"
            ],
            "duration": 1,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C2 Should have the same number of OrderItems as criteria",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "Should have the same number of OrderItems as criteria"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at B or P",
              "C2"
            ],
            "duration": 0,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C2 OrderItem at position 0 - capacities should not have changed from their initial values after C1/C2 (regardless of leasing)",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "OrderItem at position 0 - capacities should not have changed from their initial values after C1/C2 (regardless of leasing)"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at B or P",
              "C2",
              "validation of C2"
            ],
            "duration": 165,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C2 validation of C2 passes validation checks",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "passes validation checks"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at B or P",
              "Assert Opportunity Capacity (after C2)"
            ],
            "duration": 0,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Assert Opportunity Capacity (after C2) should return 200 on success for request relevant to OrderItem 0",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "should return 200 on success for request relevant to OrderItem 0"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at B or P",
              "Assert Opportunity Capacity (after C2)",
              "validation of Opportunity Feed extract for OrderItem 0"
            ],
            "duration": 165,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Assert Opportunity Capacity (after C2) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "passes validation checks"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at B or P",
              "P",
              "validation of P"
            ],
            "duration": 3,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P P validation of P passes validation checks",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "passes validation checks"
          },
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Booking should fail because Broker is included in Order in NoBroker mode",
              "at B or P",
              "P"
            ],
            "duration": 0,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P P should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`"
          }
        ]
      }
    },
    "Feature Description Assertions (for OpenActive maintainers)": {
      "events": [],
      "response": {
        "specs": [
          {
            "ancestorTitles": [
              "no-broker",
              "broker-included-nobroker-mode",
              "OpenBookingApprovalFlow",
              "IndividualFacilityUseSlot",
              "Feature Description Assertions (for OpenActive maintainers)"
            ],
            "duration": 0,
            "failureMessages": [],
            "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Feature Description Assertions (for OpenActive maintainers) Feature Description `.testInterfaceActions` should match the Test Interface Actions that were used in the test",
            "location": null,
            "numPassingAsserts": 0,
            "status": "passed",
            "title": "Feature Description `.testInterfaceActions` should match the Test Interface Actions that were used in the test"
          }
        ]
      }
    }
  },
  "logs": [
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C1",
        "Fetch Opportunities"
      ],
      "title": "Feature Description `.testInterfaceActions` should match the Test Interface Actions that were used in the test",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow ScheduledSession Feature Description Assertions (for OpenActive maintainers) Feature Description `.testInterfaceActions` should match the Test Interface Actions that were used in the test",
      "type": "request",
      "stage": "Booking System Test Interface for OrderItem 0",
      "request": {
        "method": "POST",
        "url": "https://localhost:5001/api/openbooking/test-interface/datasets/uat-ci/opportunities",
        "jsonBody": {
          "@type": "Slot",
          "facilityUse": {
            "@type": "IndividualFacilityUse",
            "provider": {
              "@type": "Organization",
              "@id": "https://localhost:5001/api/identifiers/sellers/1"
            }
          },
          "@context": [
            "https://openactive.io/",
            "https://openactive.io/test-interface"
          ],
          "test:testOpportunityCriteria": "https://openactive.io/test-interface#TestOpportunityBookable",
          "test:testOpenBookingFlow": "https://openactive.io/test-interface#OpenBookingApprovalFlow"
        },
        "requestOptions": {
          "headers": {
            "Content-Type": "application/vnd.openactive.booking+json; version=1",
            "Authorization": "Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkIwNEY3QjkxREUzQjk0NzhDNjE4MzNGQjI0QUE1Q0RCIiwidHlwIjoiYXQrand0In0.eyJuYmYiOjE3MzgzMjE0MjEsImV4cCI6MTczODMyNTAyMSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAwMyIsImF1ZCI6Im9wZW5ib29raW5nIiwiY2xpZW50X2lkIjoiN2YxMWYwMGQtYzk2OC00ZjQzLWExNmUtYzkwYjBkZDJjOGQ4IiwiaHR0cHM6Ly9vcGVuYWN0aXZlLmlvL2NsaWVudElkIjoiN2YxMWYwMGQtYzk2OC00ZjQzLWExNmUtYzkwYjBkZDJjOGQ4Iiwic3ViIjoiMTAwIiwiYXV0aF90aW1lIjoxNzM4MzIxNDIxLCJpZHAiOiJsb2NhbCIsImh0dHBzOi8vb3BlbmFjdGl2ZS5pby9zZWxsZXJJZCI6Imh0dHBzOi8vbG9jYWxob3N0OjUwMDEvYXBpL2lkZW50aWZpZXJzL3NlbGxlcnMvMSIsImp0aSI6Ijg3RkRCMDc2RDMyNjcxQjA3NzgzMjE3QTVGRTRBQTE5Iiwic2lkIjoiQzkxQkMyQUM3MzQyNDkzRkI3NzgwMzg1N0IzRTYyNTgiLCJpYXQiOjE3MzgzMjE0MjEsInNjb3BlIjpbIm9wZW5pZCIsIm9wZW5hY3RpdmUtb3BlbmJvb2tpbmciLCJvcGVuYWN0aXZlLWlkZW50aXR5Iiwib2ZmbGluZV9hY2Nlc3MiXSwiYW1yIjpbInB3ZCJdfQ.hlNK9s6r1uLy48egBIWYvXW7tpi6svfs04-iNEL1ZiLGtrgqyBYqLJku4pKH66S7WhNDBevEuGY_58FhFIX0iOXE0yCjX6NoSrqUuVQM9wU_m5BCxGspHQOWEZ79v4v4KlFQRN8oxMpM2UJ2zj8g4sgRmYl1dS5E_ulJTiq3L4iCd3GAfsKGCEBwBRh_xgpjI6SiinMkGKVv6i8r4kkc1AKi3rxNyNSajaT9yOpnTnIhBwMRlL9YQsyuTQbADiRAyn6h8n2-H7VhROyvOdm86HSOS8v9f9PhmVWQuzRGqdpgWpvu5XKEXAri12um8krYbE56_Xf9pimguZpTf30fbw"
          },
          "timeout": 20000
        }
      },
      "isPending": false,
      "duration": 0,
      "response": {
        "body": {
          "@context": "https://openactive.io/",
          "@type": "Slot",
          "@id": "https://localhost:5001/api/identifiers/facility-uses/2219/individual-facility-uses/1/slots/20219"
        },
        "responseTime": 30.24058,
        "status": 200,
        "statusMessage": "OK",
        "headers": {
          "connection": "close",
          "date": "Fri, 31 Jan 2025 11:15:36 GMT",
          "content-type": "application/vnd.openactive.booking+json; version=1",
          "server": "Kestrel",
          "content-length": "157"
        }
      }
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C1",
        "Fetch Opportunities"
      ],
      "title": "Feature Description `.testInterfaceActions` should match the Test Interface Actions that were used in the test",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow ScheduledSession Feature Description Assertions (for OpenActive maintainers) Feature Description `.testInterfaceActions` should match the Test Interface Actions that were used in the test",
      "type": "request",
      "stage": "Opportunity Feed extract for OrderItem 0",
      "request": {
        "method": "GET",
        "url": "http://localhost:3000/opportunity/https%3A%2F%2Flocalhost%3A5001%2Fapi%2Fidentifiers%2Ffacility-uses%2F2219%2Findividual-facility-uses%2F1%2Fslots%2F20219?useCacheIfAvailable=true",
        "jsonBody": null,
        "requestOptions": {
          "timeout": 60000
        }
      },
      "isPending": false,
      "requestMetadata": {
        "feedExtract": {
          "id": "https://localhost:5001/api/identifiers/facility-uses/2219/individual-facility-uses/1/slots/20219",
          "type": "opportunities"
        }
      },
      "duration": 600,
      "response": {
        "body": {
          "state": "updated",
          "id": "https://localhost:5001/api/identifiers/facility-uses/2219/individual-facility-uses/1/slots/20219",
          "modified": "1738322138599",
          "data": {
            "@context": [
              "https://openactive.io/"
            ],
            "@type": "Slot",
            "@id": "https://localhost:5001/api/identifiers/facility-uses/2219/individual-facility-uses/1/slots/20219",
            "identifier": 20219,
            "duration": "PT1H",
            "facilityUse": {
              "@type": "IndividualFacilityUse",
              "@id": "https://localhost:5001/api/identifiers/facility-uses/2219/individual-facility-uses/1",
              "name": "Court 1 on [OPEN BOOKING API TEST INTERFACE] Bookable Facility",
              "aggregateFacilityUse": {
                "@type": "FacilityUse",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2219",
                "identifier": 2219,
                "name": "GOLDEN: [OPEN BOOKING API TEST INTERFACE] Bookable Facility",
                "facilityType": [
                  {
                    "@type": "Concept",
                    "@id": "https://openactive.io/facility-types#a1f82b7a-1258-4d9a-8dc5-bfc2ae961651",
                    "inScheme": "https://openactive.io/facility-types",
                    "prefLabel": "Squash Court"
                  }
                ],
                "location": {
                  "@type": "Place",
                  "@id": "https://example.com/place/3",
                  "identifier": 3,
                  "name": "Stroll & Stretch",
                  "description": "Casual Calisthenics in the Heart of Commerce. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
                  "address": {
                    "@type": "PostalAddress",
                    "addressCountry": "GB",
                    "addressLocality": "Oxford",
                    "addressRegion": "Oxfordshire",
                    "postalCode": "OX1 1UU",
                    "streetAddress": "Norfolk Street"
                  },
                  "geo": {
                    "@type": "GeoCoordinates",
                    "latitude": 51.749826,
                    "longitude": -1.261492
                  },
                  "image": [
                    {
                      "@type": "ImageObject",
                      "url": "https://upload.wikimedia.org/wikipedia/commons/2/28/Westfield_Garden_State_Plaza_-_panoramio.jpg"
                    }
                  ],
                  "openingHoursSpecification": [
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "17:30",
                      "dayOfWeek": [
                        "https://schema.org/Sunday"
                      ],
                      "opens": "09:00"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Monday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Tuesday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Wednesday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Thursday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Friday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "17:30",
                      "dayOfWeek": [
                        "https://schema.org/Saturday"
                      ],
                      "opens": "09:00"
                    }
                  ],
                  "telephone": "01865 000003",
                  "url": "https://en.wikipedia.org/wiki/Shopping_center"
                },
                "provider": {
                  "@type": "Organization",
                  "@id": "https://localhost:5001/api/identifiers/sellers/1",
                  "name": "Acme Fitness Ltd",
                  "isOpenBookingAllowed": true,
                  "sameAs": [
                    "https://socialmedia.com/AcmeFitnessLtd"
                  ],
                  "taxMode": "https://openactive.io/TaxGross",
                  "telephone": "00716 550809",
                  "termsOfService": [
                    {
                      "@type": "PrivacyPolicy",
                      "name": "Privacy Policy",
                      "requiresExplicitConsent": false,
                      "url": "https://example.com/privacy.html"
                    }
                  ],
                  "url": "https://reinhold.biz"
                },
                "url": "https://www.example.com/facilities/2219"
              }
            },
            "maximumUses": 10,
            "offers": [
              {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2219/individual-facility-uses/1/slots/20219#/offers/0",
                "acceptedPaymentMethod": [
                  "http://purl.org/goodrelations/v1#Cash",
                  "http://purl.org/goodrelations/v1#PaymentMethodCreditCard"
                ],
                "allowCustomerCancellationFullRefund": true,
                "openBookingFlowRequirement": [
                  "https://openactive.io/OpenBookingApproval"
                ],
                "price": 0,
                "priceCurrency": "GBP"
              },
              {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2219/individual-facility-uses/1/slots/20219#/offers/0",
                "acceptedPaymentMethod": [
                  "http://purl.org/goodrelations/v1#Cash",
                  "http://purl.org/goodrelations/v1#PaymentMethodCreditCard"
                ],
                "allowCustomerCancellationFullRefund": true,
                "openBookingFlowRequirement": [
                  "https://openactive.io/OpenBookingApproval"
                ],
                "price": 0,
                "priceCurrency": "GBP"
              },
              {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2219/individual-facility-uses/1/slots/20219#/offers/0",
                "acceptedPaymentMethod": [
                  "http://purl.org/goodrelations/v1#Cash",
                  "http://purl.org/goodrelations/v1#PaymentMethodCreditCard"
                ],
                "allowCustomerCancellationFullRefund": true,
                "openBookingFlowRequirement": [
                  "https://openactive.io/OpenBookingApproval"
                ],
                "price": 0,
                "priceCurrency": "GBP"
              }
            ],
            "remainingUses": 10,
            "startDate": "2025-02-01T11:15:36+00:00",
            "endDate": "2025-02-01T12:15:36+00:00"
          }
        },
        "responseTime": 666.58219,
        "status": 200,
        "statusMessage": "OK",
        "headers": {
          "x-powered-by": "Express",
          "content-type": "application/json; charset=utf-8",
          "content-length": "4710",
          "etag": "W/\"1266-QAlwySBY4RcoJ4j+q+EmsXat/YY\"",
          "date": "Fri, 31 Jan 2025 11:15:37 GMT",
          "connection": "close"
        }
      }
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C1",
        "Fetch Opportunities",
        "validation of Opportunity Feed extract for OrderItem 0"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
      "type": "validations",
      "stage": "Opportunity Feed extract for OrderItem 0",
      "validations": [
        {
          "path": "$.facilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.facilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.facilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `IndividualFacilityUse`."
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `FacilityUse`."
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.offers",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `offers` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"offers\": {\n  \"@type\": \"Offer\",\n  \"identifier\": \"OX-AD\",\n  \"name\": \"Adult\",\n  \"price\": 7.5,\n  \"priceCurrency\": \"GBP\",\n  \"url\": \"https://profile.everyoneactive.com/booking?Site=0140&Activities=1402CBP20150217&Culture=en-GB\"\n}\n```"
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.location.amenityFeature",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `amenityFeature` is missing from `Place`.\n\nA full example looks like this:\n\n```\n\"amenityFeature\": [\n  {\n    \"name\": \"Changing Facilities\",\n    \"value\": true,\n    \"@type\": \"ChangingFacilities\"\n  },\n  {\n    \"name\": \"Showers\",\n    \"value\": false,\n    \"@type\": \"Showers\"\n  },\n  {\n    \"name\": \"Lockers\",\n    \"value\": true,\n    \"@type\": \"Lockers\"\n  },\n  {\n    \"name\": \"Towels\",\n    \"value\": false,\n    \"@type\": \"Towels\"\n  },\n  {\n    \"name\": \"Creche\",\n    \"value\": false,\n    \"@type\": \"Creche\"\n  },\n  {\n    \"name\": \"Parking\",\n    \"value\": true,\n    \"@type\": \"Parking\"\n  }\n]\n```"
        },
        {
          "path": "$.offers[0].name",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
        },
        {
          "path": "$.offers[0].ageRestriction",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
        },
        {
          "path": "$.offers[1].name",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
        },
        {
          "path": "$.offers[1].ageRestriction",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
        },
        {
          "path": "$.offers[2].name",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
        },
        {
          "path": "$.offers[2].ageRestriction",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
        }
      ]
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C1",
        "C1"
      ],
      "title": "matches the criteria 'TestOpportunityBookable' required for this test",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 matches the criteria 'TestOpportunityBookable' required for this test",
      "type": "request",
      "stage": "C1",
      "request": {
        "method": "PUT",
        "url": "https://localhost:5001/api/openbooking/order-quote-templates/62a0c9b9-df0c-4525-b1a9-b2d528c8a9e7",
        "jsonBody": {
          "@context": "https://openactive.io/",
          "@type": "OrderQuote",
          "brokerRole": "https://openactive.io/NoBroker",
          "broker": {
            "@type": "Organization",
            "name": "MyFitnessApp",
            "url": "https://myfitnessapp.example.com",
            "description": "A fitness app for all the community",
            "logo": {
              "@type": "ImageObject",
              "url": "http://data.myfitnessapp.org.uk/images/logo.png"
            },
            "address": {
              "@type": "PostalAddress",
              "streetAddress": "Alan Peacock Way",
              "addressLocality": "Village East",
              "addressRegion": "Middlesbrough",
              "postalCode": "TS4 3AE",
              "addressCountry": "GB"
            }
          },
          "seller": "https://localhost:5001/api/identifiers/sellers/1",
          "orderedItem": [
            {
              "@type": "OrderItem",
              "position": 0,
              "acceptedOffer": "https://localhost:5001/api/identifiers/facility-uses/2219/individual-facility-uses/1/slots/20219#/offers/0",
              "orderedItem": "https://localhost:5001/api/identifiers/facility-uses/2219/individual-facility-uses/1/slots/20219"
            }
          ],
          "payment": {
            "@type": "Payment",
            "name": "AcmeBroker Points",
            "accountId": "SN1593",
            "paymentProviderId": "STRIPE"
          }
        },
        "requestOptions": {
          "headers": {
            "Content-Type": "application/vnd.openactive.booking+json; version=1",
            "Authorization": "Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkIwNEY3QjkxREUzQjk0NzhDNjE4MzNGQjI0QUE1Q0RCIiwidHlwIjoiYXQrand0In0.eyJuYmYiOjE3MzgzMjE0MjEsImV4cCI6MTczODMyNTAyMSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAwMyIsImF1ZCI6Im9wZW5ib29raW5nIiwiY2xpZW50X2lkIjoiN2YxMWYwMGQtYzk2OC00ZjQzLWExNmUtYzkwYjBkZDJjOGQ4IiwiaHR0cHM6Ly9vcGVuYWN0aXZlLmlvL2NsaWVudElkIjoiN2YxMWYwMGQtYzk2OC00ZjQzLWExNmUtYzkwYjBkZDJjOGQ4Iiwic3ViIjoiMTAwIiwiYXV0aF90aW1lIjoxNzM4MzIxNDIxLCJpZHAiOiJsb2NhbCIsImh0dHBzOi8vb3BlbmFjdGl2ZS5pby9zZWxsZXJJZCI6Imh0dHBzOi8vbG9jYWxob3N0OjUwMDEvYXBpL2lkZW50aWZpZXJzL3NlbGxlcnMvMSIsImp0aSI6Ijg3RkRCMDc2RDMyNjcxQjA3NzgzMjE3QTVGRTRBQTE5Iiwic2lkIjoiQzkxQkMyQUM3MzQyNDkzRkI3NzgwMzg1N0IzRTYyNTgiLCJpYXQiOjE3MzgzMjE0MjEsInNjb3BlIjpbIm9wZW5pZCIsIm9wZW5hY3RpdmUtb3BlbmJvb2tpbmciLCJvcGVuYWN0aXZlLWlkZW50aXR5Iiwib2ZmbGluZV9hY2Nlc3MiXSwiYW1yIjpbInB3ZCJdfQ.hlNK9s6r1uLy48egBIWYvXW7tpi6svfs04-iNEL1ZiLGtrgqyBYqLJku4pKH66S7WhNDBevEuGY_58FhFIX0iOXE0yCjX6NoSrqUuVQM9wU_m5BCxGspHQOWEZ79v4v4KlFQRN8oxMpM2UJ2zj8g4sgRmYl1dS5E_ulJTiq3L4iCd3GAfsKGCEBwBRh_xgpjI6SiinMkGKVv6i8r4kkc1AKi3rxNyNSajaT9yOpnTnIhBwMRlL9YQsyuTQbADiRAyn6h8n2-H7VhROyvOdm86HSOS8v9f9PhmVWQuzRGqdpgWpvu5XKEXAri12um8krYbE56_Xf9pimguZpTf30fbw"
          },
          "timeout": 20000
        }
      },
      "isPending": false,
      "duration": 0,
      "response": {
        "body": {
          "@context": "https://openactive.io/",
          "@type": "IncompleteBrokerDetailsError",
          "name": "The 'name' property is not supplied within the 'Organisation' object describing the Broker; or the 'broker' property supplied is not a valid 'Organisation' object.",
          "statusCode": 400
        },
        "responseTime": 24.850699,
        "status": 400,
        "statusMessage": "Bad Request",
        "headers": {
          "connection": "close",
          "date": "Fri, 31 Jan 2025 11:15:37 GMT",
          "content-type": "application/vnd.openactive.booking+json; version=1",
          "server": "Kestrel",
          "content-length": "266"
        }
      }
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C1",
        "C1",
        "validation of C1"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 C1 validation of C1 passes validation checks",
      "type": "validations",
      "stage": "C1",
      "validations": [
        {
          "path": "$.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `IncompleteBrokerDetailsError`.\n\nA full example looks like this:\n\n```\n\"description\": \"No customer details supplied. These must be supplied for calls to C2, P, and B.\"\n```"
        },
        {
          "path": "$.instance",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `instance` is missing from `IncompleteBrokerDetailsError`."
        }
      ]
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C1",
        "Assert Opportunity Capacity (after C1)",
        "validation of Opportunity Feed extract for OrderItem 0"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Assert Opportunity Capacity (after C1) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
      "type": "validations",
      "stage": "Opportunity Feed extract for OrderItem 0",
      "validations": [
        {
          "path": "$.facilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.facilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.facilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `IndividualFacilityUse`."
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `FacilityUse`."
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.offers",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `offers` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"offers\": {\n  \"@type\": \"Offer\",\n  \"identifier\": \"OX-AD\",\n  \"name\": \"Adult\",\n  \"price\": 7.5,\n  \"priceCurrency\": \"GBP\",\n  \"url\": \"https://profile.everyoneactive.com/booking?Site=0140&Activities=1402CBP20150217&Culture=en-GB\"\n}\n```"
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.location.amenityFeature",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `amenityFeature` is missing from `Place`.\n\nA full example looks like this:\n\n```\n\"amenityFeature\": [\n  {\n    \"name\": \"Changing Facilities\",\n    \"value\": true,\n    \"@type\": \"ChangingFacilities\"\n  },\n  {\n    \"name\": \"Showers\",\n    \"value\": false,\n    \"@type\": \"Showers\"\n  },\n  {\n    \"name\": \"Lockers\",\n    \"value\": true,\n    \"@type\": \"Lockers\"\n  },\n  {\n    \"name\": \"Towels\",\n    \"value\": false,\n    \"@type\": \"Towels\"\n  },\n  {\n    \"name\": \"Creche\",\n    \"value\": false,\n    \"@type\": \"Creche\"\n  },\n  {\n    \"name\": \"Parking\",\n    \"value\": true,\n    \"@type\": \"Parking\"\n  }\n]\n```"
        },
        {
          "path": "$.offers[0].name",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
        },
        {
          "path": "$.offers[0].ageRestriction",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
        },
        {
          "path": "$.offers[1].name",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
        },
        {
          "path": "$.offers[1].ageRestriction",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
        },
        {
          "path": "$.offers[2].name",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
        },
        {
          "path": "$.offers[2].ageRestriction",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
        }
      ]
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "Fetch Opportunities"
      ],
      "title": "should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Assert Opportunity Capacity (after C1) should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`",
      "type": "request",
      "stage": "Booking System Test Interface for OrderItem 0",
      "request": {
        "method": "POST",
        "url": "https://localhost:5001/api/openbooking/test-interface/datasets/uat-ci/opportunities",
        "jsonBody": {
          "@type": "Slot",
          "facilityUse": {
            "@type": "IndividualFacilityUse",
            "provider": {
              "@type": "Organization",
              "@id": "https://localhost:5001/api/identifiers/sellers/1"
            }
          },
          "@context": [
            "https://openactive.io/",
            "https://openactive.io/test-interface"
          ],
          "test:testOpportunityCriteria": "https://openactive.io/test-interface#TestOpportunityBookable",
          "test:testOpenBookingFlow": "https://openactive.io/test-interface#OpenBookingApprovalFlow"
        },
        "requestOptions": {
          "headers": {
            "Content-Type": "application/vnd.openactive.booking+json; version=1",
            "Authorization": "Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkIwNEY3QjkxREUzQjk0NzhDNjE4MzNGQjI0QUE1Q0RCIiwidHlwIjoiYXQrand0In0.eyJuYmYiOjE3MzgzMjE0MjEsImV4cCI6MTczODMyNTAyMSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAwMyIsImF1ZCI6Im9wZW5ib29raW5nIiwiY2xpZW50X2lkIjoiN2YxMWYwMGQtYzk2OC00ZjQzLWExNmUtYzkwYjBkZDJjOGQ4IiwiaHR0cHM6Ly9vcGVuYWN0aXZlLmlvL2NsaWVudElkIjoiN2YxMWYwMGQtYzk2OC00ZjQzLWExNmUtYzkwYjBkZDJjOGQ4Iiwic3ViIjoiMTAwIiwiYXV0aF90aW1lIjoxNzM4MzIxNDIxLCJpZHAiOiJsb2NhbCIsImh0dHBzOi8vb3BlbmFjdGl2ZS5pby9zZWxsZXJJZCI6Imh0dHBzOi8vbG9jYWxob3N0OjUwMDEvYXBpL2lkZW50aWZpZXJzL3NlbGxlcnMvMSIsImp0aSI6Ijg3RkRCMDc2RDMyNjcxQjA3NzgzMjE3QTVGRTRBQTE5Iiwic2lkIjoiQzkxQkMyQUM3MzQyNDkzRkI3NzgwMzg1N0IzRTYyNTgiLCJpYXQiOjE3MzgzMjE0MjEsInNjb3BlIjpbIm9wZW5pZCIsIm9wZW5hY3RpdmUtb3BlbmJvb2tpbmciLCJvcGVuYWN0aXZlLWlkZW50aXR5Iiwib2ZmbGluZV9hY2Nlc3MiXSwiYW1yIjpbInB3ZCJdfQ.hlNK9s6r1uLy48egBIWYvXW7tpi6svfs04-iNEL1ZiLGtrgqyBYqLJku4pKH66S7WhNDBevEuGY_58FhFIX0iOXE0yCjX6NoSrqUuVQM9wU_m5BCxGspHQOWEZ79v4v4KlFQRN8oxMpM2UJ2zj8g4sgRmYl1dS5E_ulJTiq3L4iCd3GAfsKGCEBwBRh_xgpjI6SiinMkGKVv6i8r4kkc1AKi3rxNyNSajaT9yOpnTnIhBwMRlL9YQsyuTQbADiRAyn6h8n2-H7VhROyvOdm86HSOS8v9f9PhmVWQuzRGqdpgWpvu5XKEXAri12um8krYbE56_Xf9pimguZpTf30fbw"
          },
          "timeout": 20000
        }
      },
      "isPending": false,
      "duration": 0,
      "response": {
        "body": {
          "@context": "https://openactive.io/",
          "@type": "Slot",
          "@id": "https://localhost:5001/api/identifiers/facility-uses/2220/individual-facility-uses/1/slots/20220"
        },
        "responseTime": 49.600807,
        "status": 200,
        "statusMessage": "OK",
        "headers": {
          "connection": "close",
          "date": "Fri, 31 Jan 2025 11:15:37 GMT",
          "content-type": "application/vnd.openactive.booking+json; version=1",
          "server": "Kestrel",
          "content-length": "157"
        }
      }
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "Fetch Opportunities"
      ],
      "title": "should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Assert Opportunity Capacity (after C1) should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`",
      "type": "request",
      "stage": "Opportunity Feed extract for OrderItem 0",
      "request": {
        "method": "GET",
        "url": "http://localhost:3000/opportunity/https%3A%2F%2Flocalhost%3A5001%2Fapi%2Fidentifiers%2Ffacility-uses%2F2220%2Findividual-facility-uses%2F1%2Fslots%2F20220?useCacheIfAvailable=true",
        "jsonBody": null,
        "requestOptions": {
          "timeout": 60000
        }
      },
      "isPending": false,
      "requestMetadata": {
        "feedExtract": {
          "id": "https://localhost:5001/api/identifiers/facility-uses/2220/individual-facility-uses/1/slots/20220",
          "type": "opportunities"
        }
      },
      "duration": 900,
      "response": {
        "body": {
          "state": "updated",
          "id": "https://localhost:5001/api/identifiers/facility-uses/2220/individual-facility-uses/1/slots/20220",
          "modified": "1738322139885",
          "data": {
            "@context": [
              "https://openactive.io/"
            ],
            "@type": "Slot",
            "@id": "https://localhost:5001/api/identifiers/facility-uses/2220/individual-facility-uses/1/slots/20220",
            "identifier": 20220,
            "duration": "PT1H",
            "facilityUse": {
              "@type": "IndividualFacilityUse",
              "@id": "https://localhost:5001/api/identifiers/facility-uses/2220/individual-facility-uses/1",
              "name": "Court 1 on [OPEN BOOKING API TEST INTERFACE] Bookable Facility",
              "aggregateFacilityUse": {
                "@type": "FacilityUse",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2220",
                "identifier": 2220,
                "name": "GOLDEN: [OPEN BOOKING API TEST INTERFACE] Bookable Facility",
                "facilityType": [
                  {
                    "@type": "Concept",
                    "@id": "https://openactive.io/facility-types#a1f82b7a-1258-4d9a-8dc5-bfc2ae961651",
                    "inScheme": "https://openactive.io/facility-types",
                    "prefLabel": "Squash Court"
                  }
                ],
                "location": {
                  "@type": "Place",
                  "@id": "https://example.com/place/3",
                  "identifier": 3,
                  "name": "Stroll & Stretch",
                  "description": "Casual Calisthenics in the Heart of Commerce. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
                  "address": {
                    "@type": "PostalAddress",
                    "addressCountry": "GB",
                    "addressLocality": "Oxford",
                    "addressRegion": "Oxfordshire",
                    "postalCode": "OX1 1UU",
                    "streetAddress": "Norfolk Street"
                  },
                  "geo": {
                    "@type": "GeoCoordinates",
                    "latitude": 51.749826,
                    "longitude": -1.261492
                  },
                  "image": [
                    {
                      "@type": "ImageObject",
                      "url": "https://upload.wikimedia.org/wikipedia/commons/2/28/Westfield_Garden_State_Plaza_-_panoramio.jpg"
                    }
                  ],
                  "openingHoursSpecification": [
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "17:30",
                      "dayOfWeek": [
                        "https://schema.org/Sunday"
                      ],
                      "opens": "09:00"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Monday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Tuesday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Wednesday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Thursday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Friday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "17:30",
                      "dayOfWeek": [
                        "https://schema.org/Saturday"
                      ],
                      "opens": "09:00"
                    }
                  ],
                  "telephone": "01865 000003",
                  "url": "https://en.wikipedia.org/wiki/Shopping_center"
                },
                "provider": {
                  "@type": "Organization",
                  "@id": "https://localhost:5001/api/identifiers/sellers/1",
                  "name": "Acme Fitness Ltd",
                  "isOpenBookingAllowed": true,
                  "sameAs": [
                    "https://socialmedia.com/AcmeFitnessLtd"
                  ],
                  "taxMode": "https://openactive.io/TaxGross",
                  "telephone": "05651 698674",
                  "termsOfService": [
                    {
                      "@type": "PrivacyPolicy",
                      "name": "Privacy Policy",
                      "requiresExplicitConsent": false,
                      "url": "https://example.com/privacy.html"
                    }
                  ],
                  "url": "http://jovani.info"
                },
                "url": "https://www.example.com/facilities/2220"
              }
            },
            "maximumUses": 10,
            "offers": [
              {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2220/individual-facility-uses/1/slots/20220#/offers/0",
                "acceptedPaymentMethod": [
                  "http://purl.org/goodrelations/v1#Cash",
                  "http://purl.org/goodrelations/v1#PaymentMethodCreditCard"
                ],
                "allowCustomerCancellationFullRefund": true,
                "openBookingFlowRequirement": [
                  "https://openactive.io/OpenBookingApproval"
                ],
                "price": 14.99,
                "priceCurrency": "GBP"
              }
            ],
            "remainingUses": 10,
            "startDate": "2025-02-01T11:15:37+00:00",
            "endDate": "2025-02-01T12:15:37+00:00"
          }
        },
        "responseTime": 945.02549,
        "status": 200,
        "statusMessage": "OK",
        "headers": {
          "x-powered-by": "Express",
          "content-type": "application/json; charset=utf-8",
          "content-length": "3896",
          "etag": "W/\"f38-77kBTSgTmy2Wse0nJm2qH5aNNdE\"",
          "date": "Fri, 31 Jan 2025 11:15:38 GMT",
          "connection": "close"
        }
      }
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "Fetch Opportunities",
        "validation of Opportunity Feed extract for OrderItem 0"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
      "type": "validations",
      "stage": "Opportunity Feed extract for OrderItem 0",
      "validations": [
        {
          "path": "$.facilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.facilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.facilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `IndividualFacilityUse`."
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `FacilityUse`."
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.offers",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `offers` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"offers\": {\n  \"@type\": \"Offer\",\n  \"identifier\": \"OX-AD\",\n  \"name\": \"Adult\",\n  \"price\": 7.5,\n  \"priceCurrency\": \"GBP\",\n  \"url\": \"https://profile.everyoneactive.com/booking?Site=0140&Activities=1402CBP20150217&Culture=en-GB\"\n}\n```"
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.location.amenityFeature",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `amenityFeature` is missing from `Place`.\n\nA full example looks like this:\n\n```\n\"amenityFeature\": [\n  {\n    \"name\": \"Changing Facilities\",\n    \"value\": true,\n    \"@type\": \"ChangingFacilities\"\n  },\n  {\n    \"name\": \"Showers\",\n    \"value\": false,\n    \"@type\": \"Showers\"\n  },\n  {\n    \"name\": \"Lockers\",\n    \"value\": true,\n    \"@type\": \"Lockers\"\n  },\n  {\n    \"name\": \"Towels\",\n    \"value\": false,\n    \"@type\": \"Towels\"\n  },\n  {\n    \"name\": \"Creche\",\n    \"value\": false,\n    \"@type\": \"Creche\"\n  },\n  {\n    \"name\": \"Parking\",\n    \"value\": true,\n    \"@type\": \"Parking\"\n  }\n]\n```"
        },
        {
          "path": "$.offers[0].name",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
        },
        {
          "path": "$.offers[0].ageRestriction",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
        }
      ]
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "C1"
      ],
      "title": "matches the criteria 'TestOpportunityBookable' required for this test",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 matches the criteria 'TestOpportunityBookable' required for this test",
      "type": "request",
      "stage": "C1",
      "request": {
        "method": "PUT",
        "url": "https://localhost:5001/api/openbooking/order-quote-templates/42c42286-eaa5-4250-8e7e-c4e28f83e49c",
        "jsonBody": {
          "@context": "https://openactive.io/",
          "@type": "OrderQuote",
          "brokerRole": "https://openactive.io/NoBroker",
          "seller": "https://localhost:5001/api/identifiers/sellers/1",
          "orderedItem": [
            {
              "@type": "OrderItem",
              "position": 0,
              "acceptedOffer": "https://localhost:5001/api/identifiers/facility-uses/2220/individual-facility-uses/1/slots/20220#/offers/0",
              "orderedItem": "https://localhost:5001/api/identifiers/facility-uses/2220/individual-facility-uses/1/slots/20220"
            }
          ],
          "payment": {
            "@type": "Payment",
            "name": "AcmeBroker Points",
            "accountId": "SN1593",
            "paymentProviderId": "STRIPE"
          }
        },
        "requestOptions": {
          "headers": {
            "Content-Type": "application/vnd.openactive.booking+json; version=1",
            "Authorization": "Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkIwNEY3QjkxREUzQjk0NzhDNjE4MzNGQjI0QUE1Q0RCIiwidHlwIjoiYXQrand0In0.eyJuYmYiOjE3MzgzMjE0MjEsImV4cCI6MTczODMyNTAyMSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAwMyIsImF1ZCI6Im9wZW5ib29raW5nIiwiY2xpZW50X2lkIjoiN2YxMWYwMGQtYzk2OC00ZjQzLWExNmUtYzkwYjBkZDJjOGQ4IiwiaHR0cHM6Ly9vcGVuYWN0aXZlLmlvL2NsaWVudElkIjoiN2YxMWYwMGQtYzk2OC00ZjQzLWExNmUtYzkwYjBkZDJjOGQ4Iiwic3ViIjoiMTAwIiwiYXV0aF90aW1lIjoxNzM4MzIxNDIxLCJpZHAiOiJsb2NhbCIsImh0dHBzOi8vb3BlbmFjdGl2ZS5pby9zZWxsZXJJZCI6Imh0dHBzOi8vbG9jYWxob3N0OjUwMDEvYXBpL2lkZW50aWZpZXJzL3NlbGxlcnMvMSIsImp0aSI6Ijg3RkRCMDc2RDMyNjcxQjA3NzgzMjE3QTVGRTRBQTE5Iiwic2lkIjoiQzkxQkMyQUM3MzQyNDkzRkI3NzgwMzg1N0IzRTYyNTgiLCJpYXQiOjE3MzgzMjE0MjEsInNjb3BlIjpbIm9wZW5pZCIsIm9wZW5hY3RpdmUtb3BlbmJvb2tpbmciLCJvcGVuYWN0aXZlLWlkZW50aXR5Iiwib2ZmbGluZV9hY2Nlc3MiXSwiYW1yIjpbInB3ZCJdfQ.hlNK9s6r1uLy48egBIWYvXW7tpi6svfs04-iNEL1ZiLGtrgqyBYqLJku4pKH66S7WhNDBevEuGY_58FhFIX0iOXE0yCjX6NoSrqUuVQM9wU_m5BCxGspHQOWEZ79v4v4KlFQRN8oxMpM2UJ2zj8g4sgRmYl1dS5E_ulJTiq3L4iCd3GAfsKGCEBwBRh_xgpjI6SiinMkGKVv6i8r4kkc1AKi3rxNyNSajaT9yOpnTnIhBwMRlL9YQsyuTQbADiRAyn6h8n2-H7VhROyvOdm86HSOS8v9f9PhmVWQuzRGqdpgWpvu5XKEXAri12um8krYbE56_Xf9pimguZpTf30fbw"
          },
          "timeout": 20000
        }
      },
      "isPending": false,
      "duration": 0,
      "response": {
        "body": {
          "@context": "https://openactive.io/",
          "@type": "OrderQuote",
          "@id": "https://localhost:5001/api/openbooking/order-quotes/42c42286-eaa5-4250-8e7e-c4e28f83e49c",
          "lease": {
            "@type": "Lease",
            "leaseExpires": "2025-01-31T11:20:39+00:00"
          },
          "orderRequiresApproval": true,
          "bookingService": {
            "@type": "BookingService",
            "name": "Acme booking system",
            "termsOfService": [
              {
                "@type": "PrivacyPolicy",
                "name": "Privacy Policy",
                "requiresExplicitConsent": false,
                "url": "https://example.com/privacy.html"
              }
            ],
            "url": "https://example.com"
          },
          "broker": {
            "@type": "Organization"
          },
          "brokerRole": "https://openactive.io/NoBroker",
          "orderedItem": [
            {
              "@type": "OrderItem",
              "acceptedOffer": {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2220/individual-facility-uses/1/slots/20220#/offers/0",
                "allowCustomerCancellationFullRefund": true,
                "price": 14.99,
                "priceCurrency": "GBP"
              },
              "orderedItem": {
                "@type": "Slot",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2220/individual-facility-uses/1/slots/20220",
                "facilityUse": {
                  "@type": "IndividualFacilityUse",
                  "@id": "https://localhost:5001/api/identifiers/facility-uses/2220/individual-facility-uses/1",
                  "aggregateFacilityUse": {
                    "@type": "FacilityUse",
                    "@id": "https://localhost:5001/api/identifiers/facility-uses/2220",
                    "name": "[OPEN BOOKING API TEST INTERFACE] Bookable Facility",
                    "facilityType": [
                      {
                        "@type": "Concept",
                        "@id": "https://openactive.io/facility-types#a1f82b7a-1258-4d9a-8dc5-bfc2ae961651",
                        "inScheme": "https://openactive.io/facility-types",
                        "prefLabel": "Squash Court"
                      }
                    ],
                    "location": {
                      "@type": "Place",
                      "@id": "https://example.com/place/3",
                      "identifier": 3,
                      "name": "Stroll & Stretch",
                      "description": "Casual Calisthenics in the Heart of Commerce. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
                      "address": {
                        "@type": "PostalAddress",
                        "addressCountry": "GB",
                        "addressLocality": "Oxford",
                        "addressRegion": "Oxfordshire",
                        "postalCode": "OX1 1UU",
                        "streetAddress": "Norfolk Street"
                      },
                      "geo": {
                        "@type": "GeoCoordinates",
                        "latitude": 51.749826,
                        "longitude": -1.261492
                      },
                      "image": [
                        {
                          "@type": "ImageObject",
                          "url": "https://upload.wikimedia.org/wikipedia/commons/2/28/Westfield_Garden_State_Plaza_-_panoramio.jpg"
                        }
                      ],
                      "openingHoursSpecification": [
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "17:30",
                          "dayOfWeek": [
                            "https://schema.org/Sunday"
                          ],
                          "opens": "09:00"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Monday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Tuesday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Wednesday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Thursday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Friday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "17:30",
                          "dayOfWeek": [
                            "https://schema.org/Saturday"
                          ],
                          "opens": "09:00"
                        }
                      ],
                      "telephone": "01865 000003",
                      "url": "https://en.wikipedia.org/wiki/Shopping_center"
                    },
                    "url": "https://example.com/events/2220"
                  },
                  "name": "Court 1 on [OPEN BOOKING API TEST INTERFACE] Bookable Facility"
                },
                "maximumUses": 10,
                "remainingUses": 10,
                "startDate": "2025-02-01T11:15:37+00:00",
                "endDate": "2025-02-01T12:15:37+00:00"
              },
              "position": 0,
              "unitTaxSpecification": [
                {
                  "@type": "TaxChargeSpecification",
                  "name": "VAT at 20%",
                  "price": 2.998,
                  "priceCurrency": "GBP",
                  "rate": 0.2
                }
              ]
            }
          ],
          "payment": {
            "@type": "Payment",
            "name": "AcmeBroker Points",
            "accountId": "SN1593",
            "paymentProviderId": "STRIPE"
          },
          "seller": {
            "@type": "Organization",
            "@id": "https://localhost:5001/api/identifiers/sellers/1",
            "name": "Acme Fitness Ltd",
            "address": {
              "@type": "PostalAddress",
              "addressCountry": "GB",
              "addressLocality": "Another town",
              "addressRegion": "Oxfordshire",
              "postalCode": "OX1 1AA",
              "streetAddress": "1 Hidden Gem"
            },
            "isOpenBookingAllowed": true,
            "legalName": "Acme Fitness Ltd",
            "taxMode": "https://openactive.io/TaxGross",
            "termsOfService": [
              {
                "@type": "PrivacyPolicy",
                "name": "Privacy Policy",
                "requiresExplicitConsent": false,
                "url": "https://example.com/privacy.html"
              }
            ]
          },
          "totalPaymentDue": {
            "@type": "PriceSpecification",
            "openBookingPrepayment": "https://openactive.io/Required",
            "price": 14.99,
            "priceCurrency": "GBP"
          },
          "totalPaymentTax": [
            {
              "@type": "TaxChargeSpecification",
              "name": "VAT at 20%",
              "price": 2.998,
              "priceCurrency": "GBP",
              "rate": 0.2
            }
          ]
        },
        "responseTime": 71.669686,
        "status": 200,
        "statusMessage": "OK",
        "headers": {
          "connection": "close",
          "date": "Fri, 31 Jan 2025 11:15:38 GMT",
          "content-type": "application/vnd.openactive.booking+json; version=1",
          "server": "Kestrel",
          "content-length": "4672"
        }
      }
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "C1",
        "validation of C1"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 C1 validation of C1 passes validation checks",
      "type": "validations",
      "stage": "C1",
      "validations": [
        {
          "path": "$.orderedItem[0].acceptedOffer.name",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
        },
        {
          "path": "$.orderedItem[0].acceptedOffer.ageRestriction",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
        },
        {
          "path": "$.orderedItem[0].orderedItem.duration",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `duration` is missing from `Slot`.\n\nA full example looks like this:\n\n```\n\"duration\": \"PT1H\"\n```"
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `IndividualFacilityUse`."
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.aggregateFacilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.aggregateFacilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.aggregateFacilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `FacilityUse`."
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.aggregateFacilityUse.offers",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `offers` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"offers\": {\n  \"@type\": \"Offer\",\n  \"identifier\": \"OX-AD\",\n  \"name\": \"Adult\",\n  \"price\": 7.5,\n  \"priceCurrency\": \"GBP\",\n  \"url\": \"https://profile.everyoneactive.com/booking?Site=0140&Activities=1402CBP20150217&Culture=en-GB\"\n}\n```"
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.aggregateFacilityUse.location.amenityFeature",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `amenityFeature` is missing from `Place`.\n\nA full example looks like this:\n\n```\n\"amenityFeature\": [\n  {\n    \"name\": \"Changing Facilities\",\n    \"value\": true,\n    \"@type\": \"ChangingFacilities\"\n  },\n  {\n    \"name\": \"Showers\",\n    \"value\": false,\n    \"@type\": \"Showers\"\n  },\n  {\n    \"name\": \"Lockers\",\n    \"value\": true,\n    \"@type\": \"Lockers\"\n  },\n  {\n    \"name\": \"Towels\",\n    \"value\": false,\n    \"@type\": \"Towels\"\n  },\n  {\n    \"name\": \"Creche\",\n    \"value\": false,\n    \"@type\": \"Creche\"\n  },\n  {\n    \"name\": \"Parking\",\n    \"value\": true,\n    \"@type\": \"Parking\"\n  }\n]\n```"
        },
        {
          "path": "$.seller.email",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `email` is missing from `Organization`.\n\nA full example looks like this:\n\n```\n\"email\": \"info@example.com\"\n```"
        },
        {
          "path": "$.seller.url",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `url` is missing from `Organization`.\n\nA full example looks like this:\n\n```\n\"url\": \"http://www.speedball-world.com\"\n```"
        },
        {
          "path": "$.seller.logo",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `logo` is missing from `Organization`.\n\nA full example looks like this:\n\n```\n\"logo\": {\n  \"@type\": \"ImageObject\",\n  \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n}\n```"
        },
        {
          "path": "$.seller.vatID",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `vatID` is missing from `Organization`."
        }
      ]
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "Assert Opportunity Capacity (after C1)"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 C1 validation of C1 passes validation checks",
      "type": "request",
      "stage": "Opportunity Feed extract for OrderItem 0",
      "request": {
        "method": "GET",
        "url": "http://localhost:3000/opportunity/https%3A%2F%2Flocalhost%3A5001%2Fapi%2Fidentifiers%2Ffacility-uses%2F2220%2Findividual-facility-uses%2F1%2Fslots%2F20220?useCacheIfAvailable=true&expectedCapacity=9",
        "jsonBody": null,
        "requestOptions": {
          "timeout": 60000
        }
      },
      "isPending": false,
      "requestMetadata": {
        "feedExtract": {
          "id": "https://localhost:5001/api/identifiers/facility-uses/2220/individual-facility-uses/1/slots/20220",
          "type": "opportunities"
        }
      },
      "duration": 400,
      "response": {
        "body": {
          "state": "updated",
          "id": "https://localhost:5001/api/identifiers/facility-uses/2220/individual-facility-uses/1/slots/20220",
          "modified": "1738322140645",
          "data": {
            "@context": [
              "https://openactive.io/"
            ],
            "@type": "Slot",
            "@id": "https://localhost:5001/api/identifiers/facility-uses/2220/individual-facility-uses/1/slots/20220",
            "identifier": 20220,
            "duration": "PT1H",
            "facilityUse": {
              "@type": "IndividualFacilityUse",
              "@id": "https://localhost:5001/api/identifiers/facility-uses/2220/individual-facility-uses/1",
              "name": "Court 1 on [OPEN BOOKING API TEST INTERFACE] Bookable Facility",
              "aggregateFacilityUse": {
                "@type": "FacilityUse",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2220",
                "identifier": 2220,
                "name": "GOLDEN: [OPEN BOOKING API TEST INTERFACE] Bookable Facility",
                "facilityType": [
                  {
                    "@type": "Concept",
                    "@id": "https://openactive.io/facility-types#a1f82b7a-1258-4d9a-8dc5-bfc2ae961651",
                    "inScheme": "https://openactive.io/facility-types",
                    "prefLabel": "Squash Court"
                  }
                ],
                "location": {
                  "@type": "Place",
                  "@id": "https://example.com/place/3",
                  "identifier": 3,
                  "name": "Stroll & Stretch",
                  "description": "Casual Calisthenics in the Heart of Commerce. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
                  "address": {
                    "@type": "PostalAddress",
                    "addressCountry": "GB",
                    "addressLocality": "Oxford",
                    "addressRegion": "Oxfordshire",
                    "postalCode": "OX1 1UU",
                    "streetAddress": "Norfolk Street"
                  },
                  "geo": {
                    "@type": "GeoCoordinates",
                    "latitude": 51.749826,
                    "longitude": -1.261492
                  },
                  "image": [
                    {
                      "@type": "ImageObject",
                      "url": "https://upload.wikimedia.org/wikipedia/commons/2/28/Westfield_Garden_State_Plaza_-_panoramio.jpg"
                    }
                  ],
                  "openingHoursSpecification": [
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "17:30",
                      "dayOfWeek": [
                        "https://schema.org/Sunday"
                      ],
                      "opens": "09:00"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Monday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Tuesday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Wednesday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Thursday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Friday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "17:30",
                      "dayOfWeek": [
                        "https://schema.org/Saturday"
                      ],
                      "opens": "09:00"
                    }
                  ],
                  "telephone": "01865 000003",
                  "url": "https://en.wikipedia.org/wiki/Shopping_center"
                },
                "provider": {
                  "@type": "Organization",
                  "@id": "https://localhost:5001/api/identifiers/sellers/1",
                  "name": "Acme Fitness Ltd",
                  "isOpenBookingAllowed": true,
                  "sameAs": [
                    "https://socialmedia.com/AcmeFitnessLtd"
                  ],
                  "taxMode": "https://openactive.io/TaxGross",
                  "telephone": "05651 698674",
                  "termsOfService": [
                    {
                      "@type": "PrivacyPolicy",
                      "name": "Privacy Policy",
                      "requiresExplicitConsent": false,
                      "url": "https://example.com/privacy.html"
                    }
                  ],
                  "url": "http://jovani.info"
                },
                "url": "https://www.example.com/facilities/2220"
              }
            },
            "maximumUses": 10,
            "offers": [
              {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2220/individual-facility-uses/1/slots/20220#/offers/0",
                "acceptedPaymentMethod": [
                  "http://purl.org/goodrelations/v1#Cash",
                  "http://purl.org/goodrelations/v1#PaymentMethodCreditCard"
                ],
                "allowCustomerCancellationFullRefund": true,
                "openBookingFlowRequirement": [
                  "https://openactive.io/OpenBookingApproval"
                ],
                "price": 14.99,
                "priceCurrency": "GBP"
              }
            ],
            "remainingUses": 9,
            "startDate": "2025-02-01T11:15:37+00:00",
            "endDate": "2025-02-01T12:15:37+00:00"
          }
        },
        "responseTime": 498.584872,
        "status": 200,
        "statusMessage": "OK",
        "headers": {
          "x-powered-by": "Express",
          "content-type": "application/json; charset=utf-8",
          "content-length": "3895",
          "etag": "W/\"f37-BYut6OaIOb5i3PvwqyQe2RWGG80\"",
          "date": "Fri, 31 Jan 2025 11:15:39 GMT",
          "connection": "close"
        }
      }
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "Assert Opportunity Capacity (after C1)",
        "validation of Opportunity Feed extract for OrderItem 0"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Assert Opportunity Capacity (after C1) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
      "type": "validations",
      "stage": "Opportunity Feed extract for OrderItem 0",
      "validations": [
        {
          "path": "$.facilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.facilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.facilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `IndividualFacilityUse`."
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `FacilityUse`."
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.offers",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `offers` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"offers\": {\n  \"@type\": \"Offer\",\n  \"identifier\": \"OX-AD\",\n  \"name\": \"Adult\",\n  \"price\": 7.5,\n  \"priceCurrency\": \"GBP\",\n  \"url\": \"https://profile.everyoneactive.com/booking?Site=0140&Activities=1402CBP20150217&Culture=en-GB\"\n}\n```"
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.location.amenityFeature",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `amenityFeature` is missing from `Place`.\n\nA full example looks like this:\n\n```\n\"amenityFeature\": [\n  {\n    \"name\": \"Changing Facilities\",\n    \"value\": true,\n    \"@type\": \"ChangingFacilities\"\n  },\n  {\n    \"name\": \"Showers\",\n    \"value\": false,\n    \"@type\": \"Showers\"\n  },\n  {\n    \"name\": \"Lockers\",\n    \"value\": true,\n    \"@type\": \"Lockers\"\n  },\n  {\n    \"name\": \"Towels\",\n    \"value\": false,\n    \"@type\": \"Towels\"\n  },\n  {\n    \"name\": \"Creche\",\n    \"value\": false,\n    \"@type\": \"Creche\"\n  },\n  {\n    \"name\": \"Parking\",\n    \"value\": true,\n    \"@type\": \"Parking\"\n  }\n]\n```"
        },
        {
          "path": "$.offers[0].name",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
        },
        {
          "path": "$.offers[0].ageRestriction",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
        }
      ]
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "C2"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Assert Opportunity Capacity (after C1) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
      "type": "request",
      "stage": "C2",
      "request": {
        "method": "PUT",
        "url": "https://localhost:5001/api/openbooking/order-quotes/42c42286-eaa5-4250-8e7e-c4e28f83e49c",
        "jsonBody": {
          "@context": "https://openactive.io/",
          "@type": "OrderQuote",
          "brokerRole": "https://openactive.io/NoBroker",
          "broker": {
            "@type": "Organization",
            "name": "MyFitnessApp",
            "url": "https://myfitnessapp.example.com",
            "description": "A fitness app for all the community",
            "logo": {
              "@type": "ImageObject",
              "url": "http://data.myfitnessapp.org.uk/images/logo.png"
            },
            "address": {
              "@type": "PostalAddress",
              "streetAddress": "Alan Peacock Way",
              "addressLocality": "Village East",
              "addressRegion": "Middlesbrough",
              "postalCode": "TS4 3AE",
              "addressCountry": "GB"
            }
          },
          "seller": "https://localhost:5001/api/identifiers/sellers/1",
          "customer": {
            "@type": "Person",
            "email": "Electa.Schowalter@hotmail.com",
            "telephone": "375.492.0118"
          },
          "orderedItem": [
            {
              "@type": "OrderItem",
              "position": 0,
              "acceptedOffer": "https://localhost:5001/api/identifiers/facility-uses/2220/individual-facility-uses/1/slots/20220#/offers/0",
              "orderedItem": "https://localhost:5001/api/identifiers/facility-uses/2220/individual-facility-uses/1/slots/20220"
            }
          ],
          "payment": {
            "@type": "Payment",
            "name": "AcmeBroker Points",
            "accountId": "SN1593",
            "paymentProviderId": "STRIPE"
          }
        },
        "requestOptions": {
          "headers": {
            "Content-Type": "application/vnd.openactive.booking+json; version=1",
            "Authorization": "Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkIwNEY3QjkxREUzQjk0NzhDNjE4MzNGQjI0QUE1Q0RCIiwidHlwIjoiYXQrand0In0.eyJuYmYiOjE3MzgzMjE0MjEsImV4cCI6MTczODMyNTAyMSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAwMyIsImF1ZCI6Im9wZW5ib29raW5nIiwiY2xpZW50X2lkIjoiN2YxMWYwMGQtYzk2OC00ZjQzLWExNmUtYzkwYjBkZDJjOGQ4IiwiaHR0cHM6Ly9vcGVuYWN0aXZlLmlvL2NsaWVudElkIjoiN2YxMWYwMGQtYzk2OC00ZjQzLWExNmUtYzkwYjBkZDJjOGQ4Iiwic3ViIjoiMTAwIiwiYXV0aF90aW1lIjoxNzM4MzIxNDIxLCJpZHAiOiJsb2NhbCIsImh0dHBzOi8vb3BlbmFjdGl2ZS5pby9zZWxsZXJJZCI6Imh0dHBzOi8vbG9jYWxob3N0OjUwMDEvYXBpL2lkZW50aWZpZXJzL3NlbGxlcnMvMSIsImp0aSI6Ijg3RkRCMDc2RDMyNjcxQjA3NzgzMjE3QTVGRTRBQTE5Iiwic2lkIjoiQzkxQkMyQUM3MzQyNDkzRkI3NzgwMzg1N0IzRTYyNTgiLCJpYXQiOjE3MzgzMjE0MjEsInNjb3BlIjpbIm9wZW5pZCIsIm9wZW5hY3RpdmUtb3BlbmJvb2tpbmciLCJvcGVuYWN0aXZlLWlkZW50aXR5Iiwib2ZmbGluZV9hY2Nlc3MiXSwiYW1yIjpbInB3ZCJdfQ.hlNK9s6r1uLy48egBIWYvXW7tpi6svfs04-iNEL1ZiLGtrgqyBYqLJku4pKH66S7WhNDBevEuGY_58FhFIX0iOXE0yCjX6NoSrqUuVQM9wU_m5BCxGspHQOWEZ79v4v4KlFQRN8oxMpM2UJ2zj8g4sgRmYl1dS5E_ulJTiq3L4iCd3GAfsKGCEBwBRh_xgpjI6SiinMkGKVv6i8r4kkc1AKi3rxNyNSajaT9yOpnTnIhBwMRlL9YQsyuTQbADiRAyn6h8n2-H7VhROyvOdm86HSOS8v9f9PhmVWQuzRGqdpgWpvu5XKEXAri12um8krYbE56_Xf9pimguZpTf30fbw"
          },
          "timeout": 20000
        }
      },
      "isPending": false,
      "duration": 0,
      "response": {
        "body": {
          "@context": "https://openactive.io/",
          "@type": "IncompleteBrokerDetailsError",
          "name": "The 'name' property is not supplied within the 'Organisation' object describing the Broker; or the 'broker' property supplied is not a valid 'Organisation' object.",
          "statusCode": 400
        },
        "responseTime": 13.213083,
        "status": 400,
        "statusMessage": "Bad Request",
        "headers": {
          "connection": "close",
          "date": "Fri, 31 Jan 2025 11:15:39 GMT",
          "content-type": "application/vnd.openactive.booking+json; version=1",
          "server": "Kestrel",
          "content-length": "266"
        }
      }
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "C2",
        "validation of C2"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 C2 validation of C2 passes validation checks",
      "type": "validations",
      "stage": "C2",
      "validations": [
        {
          "path": "$.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `IncompleteBrokerDetailsError`.\n\nA full example looks like this:\n\n```\n\"description\": \"No customer details supplied. These must be supplied for calls to C2, P, and B.\"\n```"
        },
        {
          "path": "$.instance",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `instance` is missing from `IncompleteBrokerDetailsError`."
        }
      ]
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "Assert Opportunity Capacity (after C2)",
        "validation of Opportunity Feed extract for OrderItem 0"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Assert Opportunity Capacity (after C2) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
      "type": "validations",
      "stage": "Opportunity Feed extract for OrderItem 0",
      "validations": [
        {
          "path": "$.facilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.facilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.facilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `IndividualFacilityUse`."
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `FacilityUse`."
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.offers",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `offers` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"offers\": {\n  \"@type\": \"Offer\",\n  \"identifier\": \"OX-AD\",\n  \"name\": \"Adult\",\n  \"price\": 7.5,\n  \"priceCurrency\": \"GBP\",\n  \"url\": \"https://profile.everyoneactive.com/booking?Site=0140&Activities=1402CBP20150217&Culture=en-GB\"\n}\n```"
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.location.amenityFeature",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `amenityFeature` is missing from `Place`.\n\nA full example looks like this:\n\n```\n\"amenityFeature\": [\n  {\n    \"name\": \"Changing Facilities\",\n    \"value\": true,\n    \"@type\": \"ChangingFacilities\"\n  },\n  {\n    \"name\": \"Showers\",\n    \"value\": false,\n    \"@type\": \"Showers\"\n  },\n  {\n    \"name\": \"Lockers\",\n    \"value\": true,\n    \"@type\": \"Lockers\"\n  },\n  {\n    \"name\": \"Towels\",\n    \"value\": false,\n    \"@type\": \"Towels\"\n  },\n  {\n    \"name\": \"Creche\",\n    \"value\": false,\n    \"@type\": \"Creche\"\n  },\n  {\n    \"name\": \"Parking\",\n    \"value\": true,\n    \"@type\": \"Parking\"\n  }\n]\n```"
        },
        {
          "path": "$.offers[0].name",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
        },
        {
          "path": "$.offers[0].ageRestriction",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
        }
      ]
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "Fetch Opportunities"
      ],
      "title": "should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Assert Opportunity Capacity (after C2) should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`",
      "type": "request",
      "stage": "Booking System Test Interface for OrderItem 0",
      "request": {
        "method": "POST",
        "url": "https://localhost:5001/api/openbooking/test-interface/datasets/uat-ci/opportunities",
        "jsonBody": {
          "@type": "Slot",
          "facilityUse": {
            "@type": "IndividualFacilityUse",
            "provider": {
              "@type": "Organization",
              "@id": "https://localhost:5001/api/identifiers/sellers/1"
            }
          },
          "@context": [
            "https://openactive.io/",
            "https://openactive.io/test-interface"
          ],
          "test:testOpportunityCriteria": "https://openactive.io/test-interface#TestOpportunityBookable",
          "test:testOpenBookingFlow": "https://openactive.io/test-interface#OpenBookingApprovalFlow"
        },
        "requestOptions": {
          "headers": {
            "Content-Type": "application/vnd.openactive.booking+json; version=1",
            "Authorization": "Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkIwNEY3QjkxREUzQjk0NzhDNjE4MzNGQjI0QUE1Q0RCIiwidHlwIjoiYXQrand0In0.eyJuYmYiOjE3MzgzMjE0MjEsImV4cCI6MTczODMyNTAyMSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAwMyIsImF1ZCI6Im9wZW5ib29raW5nIiwiY2xpZW50X2lkIjoiN2YxMWYwMGQtYzk2OC00ZjQzLWExNmUtYzkwYjBkZDJjOGQ4IiwiaHR0cHM6Ly9vcGVuYWN0aXZlLmlvL2NsaWVudElkIjoiN2YxMWYwMGQtYzk2OC00ZjQzLWExNmUtYzkwYjBkZDJjOGQ4Iiwic3ViIjoiMTAwIiwiYXV0aF90aW1lIjoxNzM4MzIxNDIxLCJpZHAiOiJsb2NhbCIsImh0dHBzOi8vb3BlbmFjdGl2ZS5pby9zZWxsZXJJZCI6Imh0dHBzOi8vbG9jYWxob3N0OjUwMDEvYXBpL2lkZW50aWZpZXJzL3NlbGxlcnMvMSIsImp0aSI6Ijg3RkRCMDc2RDMyNjcxQjA3NzgzMjE3QTVGRTRBQTE5Iiwic2lkIjoiQzkxQkMyQUM3MzQyNDkzRkI3NzgwMzg1N0IzRTYyNTgiLCJpYXQiOjE3MzgzMjE0MjEsInNjb3BlIjpbIm9wZW5pZCIsIm9wZW5hY3RpdmUtb3BlbmJvb2tpbmciLCJvcGVuYWN0aXZlLWlkZW50aXR5Iiwib2ZmbGluZV9hY2Nlc3MiXSwiYW1yIjpbInB3ZCJdfQ.hlNK9s6r1uLy48egBIWYvXW7tpi6svfs04-iNEL1ZiLGtrgqyBYqLJku4pKH66S7WhNDBevEuGY_58FhFIX0iOXE0yCjX6NoSrqUuVQM9wU_m5BCxGspHQOWEZ79v4v4KlFQRN8oxMpM2UJ2zj8g4sgRmYl1dS5E_ulJTiq3L4iCd3GAfsKGCEBwBRh_xgpjI6SiinMkGKVv6i8r4kkc1AKi3rxNyNSajaT9yOpnTnIhBwMRlL9YQsyuTQbADiRAyn6h8n2-H7VhROyvOdm86HSOS8v9f9PhmVWQuzRGqdpgWpvu5XKEXAri12um8krYbE56_Xf9pimguZpTf30fbw"
          },
          "timeout": 20000
        }
      },
      "isPending": false,
      "duration": 0,
      "response": {
        "body": {
          "@context": "https://openactive.io/",
          "@type": "Slot",
          "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221"
        },
        "responseTime": 38.384449,
        "status": 200,
        "statusMessage": "OK",
        "headers": {
          "connection": "close",
          "date": "Fri, 31 Jan 2025 11:15:39 GMT",
          "content-type": "application/vnd.openactive.booking+json; version=1",
          "server": "Kestrel",
          "content-length": "157"
        }
      }
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "Fetch Opportunities"
      ],
      "title": "should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Assert Opportunity Capacity (after C2) should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`",
      "type": "request",
      "stage": "Opportunity Feed extract for OrderItem 0",
      "request": {
        "method": "GET",
        "url": "http://localhost:3000/opportunity/https%3A%2F%2Flocalhost%3A5001%2Fapi%2Fidentifiers%2Ffacility-uses%2F2221%2Findividual-facility-uses%2F1%2Fslots%2F20221?useCacheIfAvailable=true",
        "jsonBody": null,
        "requestOptions": {
          "timeout": 60000
        }
      },
      "isPending": false,
      "requestMetadata": {
        "feedExtract": {
          "id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221",
          "type": "opportunities"
        }
      },
      "duration": 500,
      "response": {
        "body": {
          "state": "updated",
          "id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221",
          "modified": "1738322141428",
          "data": {
            "@context": [
              "https://openactive.io/"
            ],
            "@type": "Slot",
            "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221",
            "identifier": 20221,
            "duration": "PT1H",
            "facilityUse": {
              "@type": "IndividualFacilityUse",
              "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1",
              "name": "Court 1 on [OPEN BOOKING API TEST INTERFACE] Bookable Facility",
              "aggregateFacilityUse": {
                "@type": "FacilityUse",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221",
                "identifier": 2221,
                "name": "[OPEN BOOKING API TEST INTERFACE] Bookable Facility",
                "facilityType": [
                  {
                    "@type": "Concept",
                    "@id": "https://openactive.io/facility-types#a1f82b7a-1258-4d9a-8dc5-bfc2ae961651",
                    "inScheme": "https://openactive.io/facility-types",
                    "prefLabel": "Squash Court"
                  }
                ],
                "location": {
                  "@type": "Place",
                  "@id": "https://example.com/place/1",
                  "identifier": 1,
                  "name": "Post-ercise Plaza",
                  "description": "Sorting Out Your Fitness One Parcel Lift at a Time! Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
                  "address": {
                    "@type": "PostalAddress",
                    "addressCountry": "GB",
                    "addressLocality": "Oxford",
                    "addressRegion": "Oxfordshire",
                    "postalCode": "OX1 1AA",
                    "streetAddress": "Kings Mead House"
                  },
                  "amenityFeature": [
                    {
                      "@type": "ChangingFacilities",
                      "name": "Changing Facilities",
                      "value": true
                    },
                    {
                      "@type": "Showers",
                      "name": "Showers",
                      "value": true
                    },
                    {
                      "@type": "Lockers",
                      "name": "Lockers",
                      "value": true
                    },
                    {
                      "@type": "Towels",
                      "name": "Towels",
                      "value": false
                    },
                    {
                      "@type": "Creche",
                      "name": "Creche",
                      "value": false
                    },
                    {
                      "@type": "Parking",
                      "name": "Parking",
                      "value": false
                    }
                  ],
                  "geo": {
                    "@type": "GeoCoordinates",
                    "latitude": 51.7502,
                    "longitude": -1.2674
                  },
                  "image": [
                    {
                      "@type": "ImageObject",
                      "url": "https://upload.wikimedia.org/wikipedia/commons/e/e5/Oxford_StAldates_PostOffice.jpg"
                    }
                  ],
                  "openingHoursSpecification": [
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "17:30",
                      "dayOfWeek": [
                        "https://schema.org/Sunday"
                      ],
                      "opens": "09:00"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Monday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Tuesday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Wednesday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Thursday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Friday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "17:30",
                      "dayOfWeek": [
                        "https://schema.org/Saturday"
                      ],
                      "opens": "09:00"
                    }
                  ],
                  "telephone": "01865 000001",
                  "url": "https://en.wikipedia.org/wiki/Post_Office_Limited"
                },
                "provider": {
                  "@type": "Organization",
                  "@id": "https://localhost:5001/api/identifiers/sellers/1",
                  "name": "Acme Fitness Ltd",
                  "isOpenBookingAllowed": true,
                  "sameAs": [
                    "https://socialmedia.com/AcmeFitnessLtd"
                  ],
                  "taxMode": "https://openactive.io/TaxGross",
                  "telephone": "09406 725449",
                  "termsOfService": [
                    {
                      "@type": "PrivacyPolicy",
                      "name": "Privacy Policy",
                      "requiresExplicitConsent": false,
                      "url": "https://example.com/privacy.html"
                    }
                  ],
                  "url": "https://dakota.name"
                },
                "url": "https://www.example.com/facilities/2221"
              }
            },
            "maximumUses": 10,
            "offers": [
              {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
                "acceptedPaymentMethod": [
                  "http://purl.org/goodrelations/v1#Cash",
                  "http://purl.org/goodrelations/v1#PaymentMethodCreditCard"
                ],
                "allowCustomerCancellationFullRefund": true,
                "openBookingFlowRequirement": [
                  "https://openactive.io/OpenBookingApproval"
                ],
                "price": 14.99,
                "priceCurrency": "GBP"
              },
              {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
                "acceptedPaymentMethod": [
                  "http://purl.org/goodrelations/v1#Cash",
                  "http://purl.org/goodrelations/v1#PaymentMethodCreditCard"
                ],
                "allowCustomerCancellationFullRefund": true,
                "openBookingFlowRequirement": [
                  "https://openactive.io/OpenBookingApproval"
                ],
                "price": 14.99,
                "priceCurrency": "GBP"
              },
              {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
                "acceptedPaymentMethod": [
                  "http://purl.org/goodrelations/v1#Cash",
                  "http://purl.org/goodrelations/v1#PaymentMethodCreditCard"
                ],
                "allowCustomerCancellationFullRefund": true,
                "openBookingFlowRequirement": [
                  "https://openactive.io/OpenBookingApproval"
                ],
                "price": 14.99,
                "priceCurrency": "GBP"
              }
            ],
            "remainingUses": 10,
            "startDate": "2025-02-01T11:15:39+00:00",
            "endDate": "2025-02-01T12:15:39+00:00"
          }
        },
        "responseTime": 578.488801,
        "status": 200,
        "statusMessage": "OK",
        "headers": {
          "x-powered-by": "Express",
          "content-type": "application/json; charset=utf-8",
          "content-length": "5050",
          "etag": "W/\"13ba-DTYvruC4nkAqpHGVvzY1tX+sLak\"",
          "date": "Fri, 31 Jan 2025 11:15:40 GMT",
          "connection": "close"
        }
      }
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "Fetch Opportunities",
        "validation of Opportunity Feed extract for OrderItem 0"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
      "type": "validations",
      "stage": "Opportunity Feed extract for OrderItem 0",
      "validations": [
        {
          "path": "$.facilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.facilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.facilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `IndividualFacilityUse`."
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `FacilityUse`."
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.offers",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `offers` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"offers\": {\n  \"@type\": \"Offer\",\n  \"identifier\": \"OX-AD\",\n  \"name\": \"Adult\",\n  \"price\": 7.5,\n  \"priceCurrency\": \"GBP\",\n  \"url\": \"https://profile.everyoneactive.com/booking?Site=0140&Activities=1402CBP20150217&Culture=en-GB\"\n}\n```"
        },
        {
          "path": "$.offers[0].name",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
        },
        {
          "path": "$.offers[0].ageRestriction",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
        },
        {
          "path": "$.offers[1].name",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
        },
        {
          "path": "$.offers[1].ageRestriction",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
        },
        {
          "path": "$.offers[2].name",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
        },
        {
          "path": "$.offers[2].ageRestriction",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
        }
      ]
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "C1"
      ],
      "title": "matches the criteria 'TestOpportunityBookable' required for this test",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 matches the criteria 'TestOpportunityBookable' required for this test",
      "type": "request",
      "stage": "C1",
      "request": {
        "method": "PUT",
        "url": "https://localhost:5001/api/openbooking/order-quote-templates/8f9e563e-e12f-4533-a1d9-a212da0cf1e6",
        "jsonBody": {
          "@context": "https://openactive.io/",
          "@type": "OrderQuote",
          "brokerRole": "https://openactive.io/NoBroker",
          "seller": "https://localhost:5001/api/identifiers/sellers/1",
          "orderedItem": [
            {
              "@type": "OrderItem",
              "position": 0,
              "acceptedOffer": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
              "orderedItem": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221"
            }
          ],
          "payment": {
            "@type": "Payment",
            "name": "AcmeBroker Points",
            "accountId": "SN1593",
            "paymentProviderId": "STRIPE"
          }
        },
        "requestOptions": {
          "headers": {
            "Content-Type": "application/vnd.openactive.booking+json; version=1",
            "Authorization": "Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkIwNEY3QjkxREUzQjk0NzhDNjE4MzNGQjI0QUE1Q0RCIiwidHlwIjoiYXQrand0In0.eyJuYmYiOjE3MzgzMjE0MjEsImV4cCI6MTczODMyNTAyMSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAwMyIsImF1ZCI6Im9wZW5ib29raW5nIiwiY2xpZW50X2lkIjoiN2YxMWYwMGQtYzk2OC00ZjQzLWExNmUtYzkwYjBkZDJjOGQ4IiwiaHR0cHM6Ly9vcGVuYWN0aXZlLmlvL2NsaWVudElkIjoiN2YxMWYwMGQtYzk2OC00ZjQzLWExNmUtYzkwYjBkZDJjOGQ4Iiwic3ViIjoiMTAwIiwiYXV0aF90aW1lIjoxNzM4MzIxNDIxLCJpZHAiOiJsb2NhbCIsImh0dHBzOi8vb3BlbmFjdGl2ZS5pby9zZWxsZXJJZCI6Imh0dHBzOi8vbG9jYWxob3N0OjUwMDEvYXBpL2lkZW50aWZpZXJzL3NlbGxlcnMvMSIsImp0aSI6Ijg3RkRCMDc2RDMyNjcxQjA3NzgzMjE3QTVGRTRBQTE5Iiwic2lkIjoiQzkxQkMyQUM3MzQyNDkzRkI3NzgwMzg1N0IzRTYyNTgiLCJpYXQiOjE3MzgzMjE0MjEsInNjb3BlIjpbIm9wZW5pZCIsIm9wZW5hY3RpdmUtb3BlbmJvb2tpbmciLCJvcGVuYWN0aXZlLWlkZW50aXR5Iiwib2ZmbGluZV9hY2Nlc3MiXSwiYW1yIjpbInB3ZCJdfQ.hlNK9s6r1uLy48egBIWYvXW7tpi6svfs04-iNEL1ZiLGtrgqyBYqLJku4pKH66S7WhNDBevEuGY_58FhFIX0iOXE0yCjX6NoSrqUuVQM9wU_m5BCxGspHQOWEZ79v4v4KlFQRN8oxMpM2UJ2zj8g4sgRmYl1dS5E_ulJTiq3L4iCd3GAfsKGCEBwBRh_xgpjI6SiinMkGKVv6i8r4kkc1AKi3rxNyNSajaT9yOpnTnIhBwMRlL9YQsyuTQbADiRAyn6h8n2-H7VhROyvOdm86HSOS8v9f9PhmVWQuzRGqdpgWpvu5XKEXAri12um8krYbE56_Xf9pimguZpTf30fbw"
          },
          "timeout": 20000
        }
      },
      "isPending": false,
      "duration": 0,
      "response": {
        "body": {
          "@context": "https://openactive.io/",
          "@type": "OrderQuote",
          "@id": "https://localhost:5001/api/openbooking/order-quotes/8f9e563e-e12f-4533-a1d9-a212da0cf1e6",
          "lease": {
            "@type": "Lease",
            "leaseExpires": "2025-01-31T11:20:40+00:00"
          },
          "orderRequiresApproval": true,
          "bookingService": {
            "@type": "BookingService",
            "name": "Acme booking system",
            "termsOfService": [
              {
                "@type": "PrivacyPolicy",
                "name": "Privacy Policy",
                "requiresExplicitConsent": false,
                "url": "https://example.com/privacy.html"
              }
            ],
            "url": "https://example.com"
          },
          "broker": {
            "@type": "Organization"
          },
          "brokerRole": "https://openactive.io/NoBroker",
          "orderedItem": [
            {
              "@type": "OrderItem",
              "acceptedOffer": {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
                "allowCustomerCancellationFullRefund": true,
                "price": 14.99,
                "priceCurrency": "GBP"
              },
              "orderedItem": {
                "@type": "Slot",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221",
                "facilityUse": {
                  "@type": "IndividualFacilityUse",
                  "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1",
                  "aggregateFacilityUse": {
                    "@type": "FacilityUse",
                    "@id": "https://localhost:5001/api/identifiers/facility-uses/2221",
                    "name": "[OPEN BOOKING API TEST INTERFACE] Bookable Facility",
                    "facilityType": [
                      {
                        "@type": "Concept",
                        "@id": "https://openactive.io/facility-types#a1f82b7a-1258-4d9a-8dc5-bfc2ae961651",
                        "inScheme": "https://openactive.io/facility-types",
                        "prefLabel": "Squash Court"
                      }
                    ],
                    "location": {
                      "@type": "Place",
                      "@id": "https://example.com/place/1",
                      "identifier": 1,
                      "name": "Post-ercise Plaza",
                      "description": "Sorting Out Your Fitness One Parcel Lift at a Time! Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
                      "address": {
                        "@type": "PostalAddress",
                        "addressCountry": "GB",
                        "addressLocality": "Oxford",
                        "addressRegion": "Oxfordshire",
                        "postalCode": "OX1 1AA",
                        "streetAddress": "Kings Mead House"
                      },
                      "amenityFeature": [
                        {
                          "@type": "ChangingFacilities",
                          "name": "Changing Facilities",
                          "value": true
                        },
                        {
                          "@type": "Showers",
                          "name": "Showers",
                          "value": true
                        },
                        {
                          "@type": "Lockers",
                          "name": "Lockers",
                          "value": true
                        },
                        {
                          "@type": "Towels",
                          "name": "Towels",
                          "value": false
                        },
                        {
                          "@type": "Creche",
                          "name": "Creche",
                          "value": false
                        },
                        {
                          "@type": "Parking",
                          "name": "Parking",
                          "value": false
                        }
                      ],
                      "geo": {
                        "@type": "GeoCoordinates",
                        "latitude": 51.7502,
                        "longitude": -1.2674
                      },
                      "image": [
                        {
                          "@type": "ImageObject",
                          "url": "https://upload.wikimedia.org/wikipedia/commons/e/e5/Oxford_StAldates_PostOffice.jpg"
                        }
                      ],
                      "openingHoursSpecification": [
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "17:30",
                          "dayOfWeek": [
                            "https://schema.org/Sunday"
                          ],
                          "opens": "09:00"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Monday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Tuesday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Wednesday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Thursday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Friday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "17:30",
                          "dayOfWeek": [
                            "https://schema.org/Saturday"
                          ],
                          "opens": "09:00"
                        }
                      ],
                      "telephone": "01865 000001",
                      "url": "https://en.wikipedia.org/wiki/Post_Office_Limited"
                    },
                    "url": "https://example.com/events/2221"
                  },
                  "name": "Court 1 on [OPEN BOOKING API TEST INTERFACE] Bookable Facility"
                },
                "maximumUses": 10,
                "remainingUses": 10,
                "startDate": "2025-02-01T11:15:39+00:00",
                "endDate": "2025-02-01T12:15:39+00:00"
              },
              "position": 0,
              "unitTaxSpecification": [
                {
                  "@type": "TaxChargeSpecification",
                  "name": "VAT at 20%",
                  "price": 2.998,
                  "priceCurrency": "GBP",
                  "rate": 0.2
                }
              ]
            }
          ],
          "payment": {
            "@type": "Payment",
            "name": "AcmeBroker Points",
            "accountId": "SN1593",
            "paymentProviderId": "STRIPE"
          },
          "seller": {
            "@type": "Organization",
            "@id": "https://localhost:5001/api/identifiers/sellers/1",
            "name": "Acme Fitness Ltd",
            "address": {
              "@type": "PostalAddress",
              "addressCountry": "GB",
              "addressLocality": "Another town",
              "addressRegion": "Oxfordshire",
              "postalCode": "OX1 1AA",
              "streetAddress": "1 Hidden Gem"
            },
            "isOpenBookingAllowed": true,
            "legalName": "Acme Fitness Ltd",
            "taxMode": "https://openactive.io/TaxGross",
            "termsOfService": [
              {
                "@type": "PrivacyPolicy",
                "name": "Privacy Policy",
                "requiresExplicitConsent": false,
                "url": "https://example.com/privacy.html"
              }
            ]
          },
          "totalPaymentDue": {
            "@type": "PriceSpecification",
            "openBookingPrepayment": "https://openactive.io/Required",
            "price": 14.99,
            "priceCurrency": "GBP"
          },
          "totalPaymentTax": [
            {
              "@type": "TaxChargeSpecification",
              "name": "VAT at 20%",
              "price": 2.998,
              "priceCurrency": "GBP",
              "rate": 0.2
            }
          ]
        },
        "responseTime": 58.318956,
        "status": 200,
        "statusMessage": "OK",
        "headers": {
          "connection": "close",
          "date": "Fri, 31 Jan 2025 11:15:39 GMT",
          "content-type": "application/vnd.openactive.booking+json; version=1",
          "server": "Kestrel",
          "content-length": "5009"
        }
      }
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "C1",
        "validation of C1"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C1 validation of C1 passes validation checks",
      "type": "validations",
      "stage": "C1",
      "validations": [
        {
          "path": "$.orderedItem[0].acceptedOffer.name",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
        },
        {
          "path": "$.orderedItem[0].acceptedOffer.ageRestriction",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
        },
        {
          "path": "$.orderedItem[0].orderedItem.duration",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `duration` is missing from `Slot`.\n\nA full example looks like this:\n\n```\n\"duration\": \"PT1H\"\n```"
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `IndividualFacilityUse`."
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.aggregateFacilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.aggregateFacilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.aggregateFacilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `FacilityUse`."
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.aggregateFacilityUse.offers",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `offers` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"offers\": {\n  \"@type\": \"Offer\",\n  \"identifier\": \"OX-AD\",\n  \"name\": \"Adult\",\n  \"price\": 7.5,\n  \"priceCurrency\": \"GBP\",\n  \"url\": \"https://profile.everyoneactive.com/booking?Site=0140&Activities=1402CBP20150217&Culture=en-GB\"\n}\n```"
        },
        {
          "path": "$.seller.email",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `email` is missing from `Organization`.\n\nA full example looks like this:\n\n```\n\"email\": \"info@example.com\"\n```"
        },
        {
          "path": "$.seller.url",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `url` is missing from `Organization`.\n\nA full example looks like this:\n\n```\n\"url\": \"http://www.speedball-world.com\"\n```"
        },
        {
          "path": "$.seller.logo",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `logo` is missing from `Organization`.\n\nA full example looks like this:\n\n```\n\"logo\": {\n  \"@type\": \"ImageObject\",\n  \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n}\n```"
        },
        {
          "path": "$.seller.vatID",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `vatID` is missing from `Organization`."
        }
      ]
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "Assert Opportunity Capacity (after C1)"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C1 validation of C1 passes validation checks",
      "type": "request",
      "stage": "Opportunity Feed extract for OrderItem 0",
      "request": {
        "method": "GET",
        "url": "http://localhost:3000/opportunity/https%3A%2F%2Flocalhost%3A5001%2Fapi%2Fidentifiers%2Ffacility-uses%2F2221%2Findividual-facility-uses%2F1%2Fslots%2F20221?useCacheIfAvailable=true&expectedCapacity=9",
        "jsonBody": null,
        "requestOptions": {
          "timeout": 60000
        }
      },
      "isPending": false,
      "requestMetadata": {
        "feedExtract": {
          "id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221",
          "type": "opportunities"
        }
      },
      "duration": 900,
      "response": {
        "body": {
          "state": "updated",
          "id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221",
          "modified": "1738322142624",
          "data": {
            "@context": [
              "https://openactive.io/"
            ],
            "@type": "Slot",
            "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221",
            "identifier": 20221,
            "duration": "PT1H",
            "facilityUse": {
              "@type": "IndividualFacilityUse",
              "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1",
              "name": "Court 1 on [OPEN BOOKING API TEST INTERFACE] Bookable Facility",
              "aggregateFacilityUse": {
                "@type": "FacilityUse",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221",
                "identifier": 2221,
                "name": "[OPEN BOOKING API TEST INTERFACE] Bookable Facility",
                "facilityType": [
                  {
                    "@type": "Concept",
                    "@id": "https://openactive.io/facility-types#a1f82b7a-1258-4d9a-8dc5-bfc2ae961651",
                    "inScheme": "https://openactive.io/facility-types",
                    "prefLabel": "Squash Court"
                  }
                ],
                "location": {
                  "@type": "Place",
                  "@id": "https://example.com/place/1",
                  "identifier": 1,
                  "name": "Post-ercise Plaza",
                  "description": "Sorting Out Your Fitness One Parcel Lift at a Time! Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
                  "address": {
                    "@type": "PostalAddress",
                    "addressCountry": "GB",
                    "addressLocality": "Oxford",
                    "addressRegion": "Oxfordshire",
                    "postalCode": "OX1 1AA",
                    "streetAddress": "Kings Mead House"
                  },
                  "amenityFeature": [
                    {
                      "@type": "ChangingFacilities",
                      "name": "Changing Facilities",
                      "value": true
                    },
                    {
                      "@type": "Showers",
                      "name": "Showers",
                      "value": true
                    },
                    {
                      "@type": "Lockers",
                      "name": "Lockers",
                      "value": true
                    },
                    {
                      "@type": "Towels",
                      "name": "Towels",
                      "value": false
                    },
                    {
                      "@type": "Creche",
                      "name": "Creche",
                      "value": false
                    },
                    {
                      "@type": "Parking",
                      "name": "Parking",
                      "value": false
                    }
                  ],
                  "geo": {
                    "@type": "GeoCoordinates",
                    "latitude": 51.7502,
                    "longitude": -1.2674
                  },
                  "image": [
                    {
                      "@type": "ImageObject",
                      "url": "https://upload.wikimedia.org/wikipedia/commons/e/e5/Oxford_StAldates_PostOffice.jpg"
                    }
                  ],
                  "openingHoursSpecification": [
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "17:30",
                      "dayOfWeek": [
                        "https://schema.org/Sunday"
                      ],
                      "opens": "09:00"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Monday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Tuesday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Wednesday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Thursday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Friday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "17:30",
                      "dayOfWeek": [
                        "https://schema.org/Saturday"
                      ],
                      "opens": "09:00"
                    }
                  ],
                  "telephone": "01865 000001",
                  "url": "https://en.wikipedia.org/wiki/Post_Office_Limited"
                },
                "provider": {
                  "@type": "Organization",
                  "@id": "https://localhost:5001/api/identifiers/sellers/1",
                  "name": "Acme Fitness Ltd",
                  "isOpenBookingAllowed": true,
                  "sameAs": [
                    "https://socialmedia.com/AcmeFitnessLtd"
                  ],
                  "taxMode": "https://openactive.io/TaxGross",
                  "telephone": "09406 725449",
                  "termsOfService": [
                    {
                      "@type": "PrivacyPolicy",
                      "name": "Privacy Policy",
                      "requiresExplicitConsent": false,
                      "url": "https://example.com/privacy.html"
                    }
                  ],
                  "url": "https://dakota.name"
                },
                "url": "https://www.example.com/facilities/2221"
              }
            },
            "maximumUses": 10,
            "offers": [
              {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
                "acceptedPaymentMethod": [
                  "http://purl.org/goodrelations/v1#Cash",
                  "http://purl.org/goodrelations/v1#PaymentMethodCreditCard"
                ],
                "allowCustomerCancellationFullRefund": true,
                "openBookingFlowRequirement": [
                  "https://openactive.io/OpenBookingApproval"
                ],
                "price": 14.99,
                "priceCurrency": "GBP"
              },
              {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
                "acceptedPaymentMethod": [
                  "http://purl.org/goodrelations/v1#Cash",
                  "http://purl.org/goodrelations/v1#PaymentMethodCreditCard"
                ],
                "allowCustomerCancellationFullRefund": true,
                "openBookingFlowRequirement": [
                  "https://openactive.io/OpenBookingApproval"
                ],
                "price": 14.99,
                "priceCurrency": "GBP"
              },
              {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
                "acceptedPaymentMethod": [
                  "http://purl.org/goodrelations/v1#Cash",
                  "http://purl.org/goodrelations/v1#PaymentMethodCreditCard"
                ],
                "allowCustomerCancellationFullRefund": true,
                "openBookingFlowRequirement": [
                  "https://openactive.io/OpenBookingApproval"
                ],
                "price": 14.99,
                "priceCurrency": "GBP"
              }
            ],
            "remainingUses": 9,
            "startDate": "2025-02-01T11:15:39+00:00",
            "endDate": "2025-02-01T12:15:39+00:00"
          }
        },
        "responseTime": 946.808284,
        "status": 200,
        "statusMessage": "OK",
        "headers": {
          "x-powered-by": "Express",
          "content-type": "application/json; charset=utf-8",
          "content-length": "5049",
          "etag": "W/\"13b9-KCgdRHrLYMfNUI1GLlmnl9MInxM\"",
          "date": "Fri, 31 Jan 2025 11:15:41 GMT",
          "connection": "close"
        }
      }
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "Assert Opportunity Capacity (after C1)",
        "validation of Opportunity Feed extract for OrderItem 0"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Assert Opportunity Capacity (after C1) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
      "type": "validations",
      "stage": "Opportunity Feed extract for OrderItem 0",
      "validations": [
        {
          "path": "$.facilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.facilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.facilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `IndividualFacilityUse`."
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `FacilityUse`."
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.offers",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `offers` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"offers\": {\n  \"@type\": \"Offer\",\n  \"identifier\": \"OX-AD\",\n  \"name\": \"Adult\",\n  \"price\": 7.5,\n  \"priceCurrency\": \"GBP\",\n  \"url\": \"https://profile.everyoneactive.com/booking?Site=0140&Activities=1402CBP20150217&Culture=en-GB\"\n}\n```"
        },
        {
          "path": "$.offers[0].name",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
        },
        {
          "path": "$.offers[0].ageRestriction",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
        },
        {
          "path": "$.offers[1].name",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
        },
        {
          "path": "$.offers[1].ageRestriction",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
        },
        {
          "path": "$.offers[2].name",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
        },
        {
          "path": "$.offers[2].ageRestriction",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
        }
      ]
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "C2"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Assert Opportunity Capacity (after C1) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
      "type": "request",
      "stage": "C2",
      "request": {
        "method": "PUT",
        "url": "https://localhost:5001/api/openbooking/order-quotes/8f9e563e-e12f-4533-a1d9-a212da0cf1e6",
        "jsonBody": {
          "@context": "https://openactive.io/",
          "@type": "OrderQuote",
          "brokerRole": "https://openactive.io/NoBroker",
          "seller": "https://localhost:5001/api/identifiers/sellers/1",
          "customer": {
            "@type": "Person",
            "email": "Barbara93@gmail.com",
            "telephone": "(964) 726-4593 x036"
          },
          "orderedItem": [
            {
              "@type": "OrderItem",
              "position": 0,
              "acceptedOffer": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
              "orderedItem": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221"
            }
          ],
          "payment": {
            "@type": "Payment",
            "name": "AcmeBroker Points",
            "accountId": "SN1593",
            "paymentProviderId": "STRIPE"
          }
        },
        "requestOptions": {
          "headers": {
            "Content-Type": "application/vnd.openactive.booking+json; version=1",
            "Authorization": "Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkIwNEY3QjkxREUzQjk0NzhDNjE4MzNGQjI0QUE1Q0RCIiwidHlwIjoiYXQrand0In0.eyJuYmYiOjE3MzgzMjE0MjEsImV4cCI6MTczODMyNTAyMSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAwMyIsImF1ZCI6Im9wZW5ib29raW5nIiwiY2xpZW50X2lkIjoiN2YxMWYwMGQtYzk2OC00ZjQzLWExNmUtYzkwYjBkZDJjOGQ4IiwiaHR0cHM6Ly9vcGVuYWN0aXZlLmlvL2NsaWVudElkIjoiN2YxMWYwMGQtYzk2OC00ZjQzLWExNmUtYzkwYjBkZDJjOGQ4Iiwic3ViIjoiMTAwIiwiYXV0aF90aW1lIjoxNzM4MzIxNDIxLCJpZHAiOiJsb2NhbCIsImh0dHBzOi8vb3BlbmFjdGl2ZS5pby9zZWxsZXJJZCI6Imh0dHBzOi8vbG9jYWxob3N0OjUwMDEvYXBpL2lkZW50aWZpZXJzL3NlbGxlcnMvMSIsImp0aSI6Ijg3RkRCMDc2RDMyNjcxQjA3NzgzMjE3QTVGRTRBQTE5Iiwic2lkIjoiQzkxQkMyQUM3MzQyNDkzRkI3NzgwMzg1N0IzRTYyNTgiLCJpYXQiOjE3MzgzMjE0MjEsInNjb3BlIjpbIm9wZW5pZCIsIm9wZW5hY3RpdmUtb3BlbmJvb2tpbmciLCJvcGVuYWN0aXZlLWlkZW50aXR5Iiwib2ZmbGluZV9hY2Nlc3MiXSwiYW1yIjpbInB3ZCJdfQ.hlNK9s6r1uLy48egBIWYvXW7tpi6svfs04-iNEL1ZiLGtrgqyBYqLJku4pKH66S7WhNDBevEuGY_58FhFIX0iOXE0yCjX6NoSrqUuVQM9wU_m5BCxGspHQOWEZ79v4v4KlFQRN8oxMpM2UJ2zj8g4sgRmYl1dS5E_ulJTiq3L4iCd3GAfsKGCEBwBRh_xgpjI6SiinMkGKVv6i8r4kkc1AKi3rxNyNSajaT9yOpnTnIhBwMRlL9YQsyuTQbADiRAyn6h8n2-H7VhROyvOdm86HSOS8v9f9PhmVWQuzRGqdpgWpvu5XKEXAri12um8krYbE56_Xf9pimguZpTf30fbw"
          },
          "timeout": 20000
        }
      },
      "isPending": false,
      "duration": 0,
      "response": {
        "body": {
          "@context": "https://openactive.io/",
          "@type": "OrderQuote",
          "@id": "https://localhost:5001/api/openbooking/order-quotes/8f9e563e-e12f-4533-a1d9-a212da0cf1e6",
          "lease": {
            "@type": "Lease",
            "leaseExpires": "2025-01-31T11:20:41+00:00"
          },
          "orderRequiresApproval": true,
          "bookingService": {
            "@type": "BookingService",
            "name": "Acme booking system",
            "termsOfService": [
              {
                "@type": "PrivacyPolicy",
                "name": "Privacy Policy",
                "requiresExplicitConsent": false,
                "url": "https://example.com/privacy.html"
              }
            ],
            "url": "https://example.com"
          },
          "broker": {
            "@type": "Organization"
          },
          "brokerRole": "https://openactive.io/NoBroker",
          "customer": {
            "@type": "Person",
            "email": "Barbara93@gmail.com",
            "telephone": "(964) 726-4593 x036"
          },
          "orderedItem": [
            {
              "@type": "OrderItem",
              "acceptedOffer": {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
                "allowCustomerCancellationFullRefund": true,
                "price": 14.99,
                "priceCurrency": "GBP"
              },
              "orderedItem": {
                "@type": "Slot",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221",
                "facilityUse": {
                  "@type": "IndividualFacilityUse",
                  "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1",
                  "aggregateFacilityUse": {
                    "@type": "FacilityUse",
                    "@id": "https://localhost:5001/api/identifiers/facility-uses/2221",
                    "name": "[OPEN BOOKING API TEST INTERFACE] Bookable Facility",
                    "facilityType": [
                      {
                        "@type": "Concept",
                        "@id": "https://openactive.io/facility-types#a1f82b7a-1258-4d9a-8dc5-bfc2ae961651",
                        "inScheme": "https://openactive.io/facility-types",
                        "prefLabel": "Squash Court"
                      }
                    ],
                    "location": {
                      "@type": "Place",
                      "@id": "https://example.com/place/1",
                      "identifier": 1,
                      "name": "Post-ercise Plaza",
                      "description": "Sorting Out Your Fitness One Parcel Lift at a Time! Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
                      "address": {
                        "@type": "PostalAddress",
                        "addressCountry": "GB",
                        "addressLocality": "Oxford",
                        "addressRegion": "Oxfordshire",
                        "postalCode": "OX1 1AA",
                        "streetAddress": "Kings Mead House"
                      },
                      "amenityFeature": [
                        {
                          "@type": "ChangingFacilities",
                          "name": "Changing Facilities",
                          "value": true
                        },
                        {
                          "@type": "Showers",
                          "name": "Showers",
                          "value": true
                        },
                        {
                          "@type": "Lockers",
                          "name": "Lockers",
                          "value": true
                        },
                        {
                          "@type": "Towels",
                          "name": "Towels",
                          "value": false
                        },
                        {
                          "@type": "Creche",
                          "name": "Creche",
                          "value": false
                        },
                        {
                          "@type": "Parking",
                          "name": "Parking",
                          "value": false
                        }
                      ],
                      "geo": {
                        "@type": "GeoCoordinates",
                        "latitude": 51.7502,
                        "longitude": -1.2674
                      },
                      "image": [
                        {
                          "@type": "ImageObject",
                          "url": "https://upload.wikimedia.org/wikipedia/commons/e/e5/Oxford_StAldates_PostOffice.jpg"
                        }
                      ],
                      "openingHoursSpecification": [
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "17:30",
                          "dayOfWeek": [
                            "https://schema.org/Sunday"
                          ],
                          "opens": "09:00"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Monday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Tuesday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Wednesday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Thursday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "21:30",
                          "dayOfWeek": [
                            "https://schema.org/Friday"
                          ],
                          "opens": "06:30"
                        },
                        {
                          "@type": "OpeningHoursSpecification",
                          "closes": "17:30",
                          "dayOfWeek": [
                            "https://schema.org/Saturday"
                          ],
                          "opens": "09:00"
                        }
                      ],
                      "telephone": "01865 000001",
                      "url": "https://en.wikipedia.org/wiki/Post_Office_Limited"
                    },
                    "url": "https://example.com/events/2221"
                  },
                  "name": "Court 1 on [OPEN BOOKING API TEST INTERFACE] Bookable Facility"
                },
                "maximumUses": 10,
                "remainingUses": 10,
                "startDate": "2025-02-01T11:15:39+00:00",
                "endDate": "2025-02-01T12:15:39+00:00"
              },
              "position": 0,
              "unitTaxSpecification": [
                {
                  "@type": "TaxChargeSpecification",
                  "name": "VAT at 20%",
                  "price": 2.998,
                  "priceCurrency": "GBP",
                  "rate": 0.2
                }
              ]
            }
          ],
          "payment": {
            "@type": "Payment",
            "name": "AcmeBroker Points",
            "accountId": "SN1593",
            "paymentProviderId": "STRIPE"
          },
          "seller": {
            "@type": "Organization",
            "@id": "https://localhost:5001/api/identifiers/sellers/1",
            "name": "Acme Fitness Ltd",
            "address": {
              "@type": "PostalAddress",
              "addressCountry": "GB",
              "addressLocality": "Another town",
              "addressRegion": "Oxfordshire",
              "postalCode": "OX1 1AA",
              "streetAddress": "1 Hidden Gem"
            },
            "isOpenBookingAllowed": true,
            "legalName": "Acme Fitness Ltd",
            "taxMode": "https://openactive.io/TaxGross",
            "termsOfService": [
              {
                "@type": "PrivacyPolicy",
                "name": "Privacy Policy",
                "requiresExplicitConsent": false,
                "url": "https://example.com/privacy.html"
              }
            ]
          },
          "totalPaymentDue": {
            "@type": "PriceSpecification",
            "openBookingPrepayment": "https://openactive.io/Required",
            "price": 14.99,
            "priceCurrency": "GBP"
          },
          "totalPaymentTax": [
            {
              "@type": "TaxChargeSpecification",
              "name": "VAT at 20%",
              "price": 2.998,
              "priceCurrency": "GBP",
              "rate": 0.2
            }
          ]
        },
        "responseTime": 67.016036,
        "status": 200,
        "statusMessage": "OK",
        "headers": {
          "connection": "close",
          "date": "Fri, 31 Jan 2025 11:15:41 GMT",
          "content-type": "application/vnd.openactive.booking+json; version=1",
          "server": "Kestrel",
          "content-length": "5103"
        }
      }
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "C2",
        "validation of C2"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C2 validation of C2 passes validation checks",
      "type": "validations",
      "stage": "C2",
      "validations": [
        {
          "path": "$.orderedItem[0].acceptedOffer.name",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
        },
        {
          "path": "$.orderedItem[0].acceptedOffer.ageRestriction",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
        },
        {
          "path": "$.orderedItem[0].orderedItem.duration",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `duration` is missing from `Slot`.\n\nA full example looks like this:\n\n```\n\"duration\": \"PT1H\"\n```"
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `IndividualFacilityUse`."
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.aggregateFacilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.aggregateFacilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.aggregateFacilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `FacilityUse`."
        },
        {
          "path": "$.orderedItem[0].orderedItem.facilityUse.aggregateFacilityUse.offers",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `offers` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"offers\": {\n  \"@type\": \"Offer\",\n  \"identifier\": \"OX-AD\",\n  \"name\": \"Adult\",\n  \"price\": 7.5,\n  \"priceCurrency\": \"GBP\",\n  \"url\": \"https://profile.everyoneactive.com/booking?Site=0140&Activities=1402CBP20150217&Culture=en-GB\"\n}\n```"
        },
        {
          "path": "$.seller.email",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `email` is missing from `Organization`.\n\nA full example looks like this:\n\n```\n\"email\": \"info@example.com\"\n```"
        },
        {
          "path": "$.seller.url",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `url` is missing from `Organization`.\n\nA full example looks like this:\n\n```\n\"url\": \"http://www.speedball-world.com\"\n```"
        },
        {
          "path": "$.seller.logo",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `logo` is missing from `Organization`.\n\nA full example looks like this:\n\n```\n\"logo\": {\n  \"@type\": \"ImageObject\",\n  \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n}\n```"
        },
        {
          "path": "$.seller.vatID",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `vatID` is missing from `Organization`."
        }
      ]
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "Assert Opportunity Capacity (after C2)"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C2 validation of C2 passes validation checks",
      "type": "request",
      "stage": "Opportunity Feed extract for OrderItem 0",
      "request": {
        "method": "GET",
        "url": "http://localhost:3000/opportunity/https%3A%2F%2Flocalhost%3A5001%2Fapi%2Fidentifiers%2Ffacility-uses%2F2221%2Findividual-facility-uses%2F1%2Fslots%2F20221?useCacheIfAvailable=true&expectedCapacity=9",
        "jsonBody": null,
        "requestOptions": {
          "timeout": 60000
        }
      },
      "isPending": false,
      "requestMetadata": {
        "feedExtract": {
          "id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221",
          "type": "opportunities"
        }
      },
      "duration": 0,
      "response": {
        "body": {
          "data": {
            "@context": [
              "https://openactive.io/"
            ],
            "@type": "Slot",
            "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221",
            "identifier": 20221,
            "duration": "PT1H",
            "facilityUse": {
              "@type": "IndividualFacilityUse",
              "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1",
              "name": "Court 1 on [OPEN BOOKING API TEST INTERFACE] Bookable Facility",
              "aggregateFacilityUse": {
                "@type": "FacilityUse",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221",
                "identifier": 2221,
                "name": "[OPEN BOOKING API TEST INTERFACE] Bookable Facility",
                "facilityType": [
                  {
                    "@type": "Concept",
                    "@id": "https://openactive.io/facility-types#a1f82b7a-1258-4d9a-8dc5-bfc2ae961651",
                    "inScheme": "https://openactive.io/facility-types",
                    "prefLabel": "Squash Court"
                  }
                ],
                "location": {
                  "@type": "Place",
                  "@id": "https://example.com/place/1",
                  "identifier": 1,
                  "name": "Post-ercise Plaza",
                  "description": "Sorting Out Your Fitness One Parcel Lift at a Time! Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
                  "address": {
                    "@type": "PostalAddress",
                    "addressCountry": "GB",
                    "addressLocality": "Oxford",
                    "addressRegion": "Oxfordshire",
                    "postalCode": "OX1 1AA",
                    "streetAddress": "Kings Mead House"
                  },
                  "amenityFeature": [
                    {
                      "@type": "ChangingFacilities",
                      "name": "Changing Facilities",
                      "value": true
                    },
                    {
                      "@type": "Showers",
                      "name": "Showers",
                      "value": true
                    },
                    {
                      "@type": "Lockers",
                      "name": "Lockers",
                      "value": true
                    },
                    {
                      "@type": "Towels",
                      "name": "Towels",
                      "value": false
                    },
                    {
                      "@type": "Creche",
                      "name": "Creche",
                      "value": false
                    },
                    {
                      "@type": "Parking",
                      "name": "Parking",
                      "value": false
                    }
                  ],
                  "geo": {
                    "@type": "GeoCoordinates",
                    "latitude": 51.7502,
                    "longitude": -1.2674
                  },
                  "image": [
                    {
                      "@type": "ImageObject",
                      "url": "https://upload.wikimedia.org/wikipedia/commons/e/e5/Oxford_StAldates_PostOffice.jpg"
                    }
                  ],
                  "openingHoursSpecification": [
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "17:30",
                      "dayOfWeek": [
                        "https://schema.org/Sunday"
                      ],
                      "opens": "09:00"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Monday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Tuesday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Wednesday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Thursday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "21:30",
                      "dayOfWeek": [
                        "https://schema.org/Friday"
                      ],
                      "opens": "06:30"
                    },
                    {
                      "@type": "OpeningHoursSpecification",
                      "closes": "17:30",
                      "dayOfWeek": [
                        "https://schema.org/Saturday"
                      ],
                      "opens": "09:00"
                    }
                  ],
                  "telephone": "01865 000001",
                  "url": "https://en.wikipedia.org/wiki/Post_Office_Limited"
                },
                "provider": {
                  "@type": "Organization",
                  "@id": "https://localhost:5001/api/identifiers/sellers/1",
                  "name": "Acme Fitness Ltd",
                  "isOpenBookingAllowed": true,
                  "sameAs": [
                    "https://socialmedia.com/AcmeFitnessLtd"
                  ],
                  "taxMode": "https://openactive.io/TaxGross",
                  "telephone": "09406 725449",
                  "termsOfService": [
                    {
                      "@type": "PrivacyPolicy",
                      "name": "Privacy Policy",
                      "requiresExplicitConsent": false,
                      "url": "https://example.com/privacy.html"
                    }
                  ],
                  "url": "https://dakota.name"
                },
                "url": "https://www.example.com/facilities/2221"
              }
            },
            "maximumUses": 10,
            "offers": [
              {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
                "acceptedPaymentMethod": [
                  "http://purl.org/goodrelations/v1#Cash",
                  "http://purl.org/goodrelations/v1#PaymentMethodCreditCard"
                ],
                "allowCustomerCancellationFullRefund": true,
                "openBookingFlowRequirement": [
                  "https://openactive.io/OpenBookingApproval"
                ],
                "price": 14.99,
                "priceCurrency": "GBP"
              },
              {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
                "acceptedPaymentMethod": [
                  "http://purl.org/goodrelations/v1#Cash",
                  "http://purl.org/goodrelations/v1#PaymentMethodCreditCard"
                ],
                "allowCustomerCancellationFullRefund": true,
                "openBookingFlowRequirement": [
                  "https://openactive.io/OpenBookingApproval"
                ],
                "price": 14.99,
                "priceCurrency": "GBP"
              },
              {
                "@type": "Offer",
                "@id": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
                "acceptedPaymentMethod": [
                  "http://purl.org/goodrelations/v1#Cash",
                  "http://purl.org/goodrelations/v1#PaymentMethodCreditCard"
                ],
                "allowCustomerCancellationFullRefund": true,
                "openBookingFlowRequirement": [
                  "https://openactive.io/OpenBookingApproval"
                ],
                "price": 14.99,
                "priceCurrency": "GBP"
              }
            ],
            "remainingUses": 9,
            "startDate": "2025-02-01T11:15:39+00:00",
            "endDate": "2025-02-01T12:15:39+00:00"
          }
        },
        "responseTime": 16.301989,
        "status": 200,
        "statusMessage": "OK",
        "headers": {
          "x-powered-by": "Express",
          "content-type": "application/json; charset=utf-8",
          "content-length": "4900",
          "etag": "W/\"1324-u0T4XXkOC1se73m9MOryiUeEpTw\"",
          "date": "Fri, 31 Jan 2025 11:15:41 GMT",
          "connection": "close"
        }
      }
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "Assert Opportunity Capacity (after C2)",
        "validation of Opportunity Feed extract for OrderItem 0"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Assert Opportunity Capacity (after C2) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
      "type": "validations",
      "stage": "Opportunity Feed extract for OrderItem 0",
      "validations": [
        {
          "path": "$.facilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.facilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `IndividualFacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.facilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `IndividualFacilityUse`."
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"description\": \"An fast paced game that incorporates netball, handball and football.\"\n```"
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.image",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `image` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"image\": [\n  {\n    \"thumbnail\": \"http://example.com/static/image/speedball_thumbnail.jpg\",\n    \"@type\": \"ImageObject\",\n    \"url\": \"http://example.com/static/image/speedball_large.jpg\"\n  }\n]\n```"
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.hoursAvailable",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `hoursAvailable` is missing from `FacilityUse`."
        },
        {
          "path": "$.facilityUse.aggregateFacilityUse.offers",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `offers` is missing from `FacilityUse`.\n\nA full example looks like this:\n\n```\n\"offers\": {\n  \"@type\": \"Offer\",\n  \"identifier\": \"OX-AD\",\n  \"name\": \"Adult\",\n  \"price\": 7.5,\n  \"priceCurrency\": \"GBP\",\n  \"url\": \"https://profile.everyoneactive.com/booking?Site=0140&Activities=1402CBP20150217&Culture=en-GB\"\n}\n```"
        },
        {
          "path": "$.offers[0].name",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
        },
        {
          "path": "$.offers[0].ageRestriction",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
        },
        {
          "path": "$.offers[1].name",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
        },
        {
          "path": "$.offers[1].ageRestriction",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
        },
        {
          "path": "$.offers[2].name",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `name` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"name\": \"Speedball winger position\"\n```"
        },
        {
          "path": "$.offers[2].ageRestriction",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `ageRestriction` is missing from `Offer`.\n\nA full example looks like this:\n\n```\n\"ageRestriction\": {\n  \"@type\": \"QuantitativeValue\",\n  \"minValue\": 15,\n  \"maxValue\": 60\n}\n```"
        }
      ]
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "P"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Assert Opportunity Capacity (after C2) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
      "type": "request",
      "stage": "P",
      "request": {
        "method": "PUT",
        "url": "https://localhost:5001/api/openbooking/order-proposals/8f9e563e-e12f-4533-a1d9-a212da0cf1e6",
        "jsonBody": {
          "@context": "https://openactive.io/",
          "@type": "OrderProposal",
          "brokerRole": "https://openactive.io/NoBroker",
          "broker": {
            "@type": "Organization",
            "name": "MyFitnessApp",
            "url": "https://myfitnessapp.example.com",
            "description": "A fitness app for all the community",
            "logo": {
              "@type": "ImageObject",
              "url": "http://data.myfitnessapp.org.uk/images/logo.png"
            },
            "address": {
              "@type": "PostalAddress",
              "streetAddress": "Alan Peacock Way",
              "addressLocality": "Village East",
              "addressRegion": "Middlesbrough",
              "postalCode": "TS4 3AE",
              "addressCountry": "GB"
            }
          },
          "seller": "https://localhost:5001/api/identifiers/sellers/1",
          "customer": {
            "@type": "Person",
            "email": "Barbara93@gmail.com",
            "telephone": "(964) 726-4593 x036"
          },
          "orderedItem": [
            {
              "@type": "OrderItem",
              "position": 0,
              "acceptedOffer": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221#/offers/0",
              "orderedItem": "https://localhost:5001/api/identifiers/facility-uses/2221/individual-facility-uses/1/slots/20221"
            }
          ],
          "totalPaymentDue": {
            "@type": "PriceSpecification",
            "price": 14.99,
            "priceCurrency": "GBP"
          },
          "payment": {
            "@type": "Payment",
            "identifier": "KmxpePJZC_",
            "name": "AcmeBroker Points",
            "accountId": "SN1593",
            "paymentProviderId": "STRIPE"
          }
        },
        "requestOptions": {
          "headers": {
            "Content-Type": "application/vnd.openactive.booking+json; version=1",
            "Authorization": "Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IkIwNEY3QjkxREUzQjk0NzhDNjE4MzNGQjI0QUE1Q0RCIiwidHlwIjoiYXQrand0In0.eyJuYmYiOjE3MzgzMjE0MjEsImV4cCI6MTczODMyNTAyMSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAwMyIsImF1ZCI6Im9wZW5ib29raW5nIiwiY2xpZW50X2lkIjoiN2YxMWYwMGQtYzk2OC00ZjQzLWExNmUtYzkwYjBkZDJjOGQ4IiwiaHR0cHM6Ly9vcGVuYWN0aXZlLmlvL2NsaWVudElkIjoiN2YxMWYwMGQtYzk2OC00ZjQzLWExNmUtYzkwYjBkZDJjOGQ4Iiwic3ViIjoiMTAwIiwiYXV0aF90aW1lIjoxNzM4MzIxNDIxLCJpZHAiOiJsb2NhbCIsImh0dHBzOi8vb3BlbmFjdGl2ZS5pby9zZWxsZXJJZCI6Imh0dHBzOi8vbG9jYWxob3N0OjUwMDEvYXBpL2lkZW50aWZpZXJzL3NlbGxlcnMvMSIsImp0aSI6Ijg3RkRCMDc2RDMyNjcxQjA3NzgzMjE3QTVGRTRBQTE5Iiwic2lkIjoiQzkxQkMyQUM3MzQyNDkzRkI3NzgwMzg1N0IzRTYyNTgiLCJpYXQiOjE3MzgzMjE0MjEsInNjb3BlIjpbIm9wZW5pZCIsIm9wZW5hY3RpdmUtb3BlbmJvb2tpbmciLCJvcGVuYWN0aXZlLWlkZW50aXR5Iiwib2ZmbGluZV9hY2Nlc3MiXSwiYW1yIjpbInB3ZCJdfQ.hlNK9s6r1uLy48egBIWYvXW7tpi6svfs04-iNEL1ZiLGtrgqyBYqLJku4pKH66S7WhNDBevEuGY_58FhFIX0iOXE0yCjX6NoSrqUuVQM9wU_m5BCxGspHQOWEZ79v4v4KlFQRN8oxMpM2UJ2zj8g4sgRmYl1dS5E_ulJTiq3L4iCd3GAfsKGCEBwBRh_xgpjI6SiinMkGKVv6i8r4kkc1AKi3rxNyNSajaT9yOpnTnIhBwMRlL9YQsyuTQbADiRAyn6h8n2-H7VhROyvOdm86HSOS8v9f9PhmVWQuzRGqdpgWpvu5XKEXAri12um8krYbE56_Xf9pimguZpTf30fbw"
          },
          "timeout": 20000
        }
      },
      "isPending": false,
      "duration": 0,
      "response": {
        "body": {
          "@context": "https://openactive.io/",
          "@type": "IncompleteBrokerDetailsError",
          "name": "The 'name' property is not supplied within the 'Organisation' object describing the Broker; or the 'broker' property supplied is not a valid 'Organisation' object.",
          "statusCode": 400
        },
        "responseTime": 45.561606,
        "status": 400,
        "statusMessage": "Bad Request",
        "headers": {
          "connection": "close",
          "date": "Fri, 31 Jan 2025 11:15:41 GMT",
          "content-type": "application/vnd.openactive.booking+json; version=1",
          "server": "Kestrel",
          "content-length": "266"
        }
      }
    },
    {
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "P",
        "validation of P"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P P validation of P passes validation checks",
      "type": "validations",
      "stage": "P",
      "validations": [
        {
          "path": "$.description",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `description` is missing from `IncompleteBrokerDetailsError`.\n\nA full example looks like this:\n\n```\n\"description\": \"No customer details supplied. These must be supplied for calls to C2, P, and B.\"\n```"
        },
        {
          "path": "$.instance",
          "rule": "RecommendedFieldsRule",
          "category": "conformance",
          "type": "missing_recommended_field",
          "severity": "warning",
          "message": "Recommended property `instance` is missing from `IncompleteBrokerDetailsError`."
        }
      ]
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C1",
        "Fetch Opportunities"
      ],
      "title": "should return 200 on success for request relevant to OrderItem 0",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Fetch Opportunities should return 200 on success for request relevant to OrderItem 0",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at C1",
          "Fetch Opportunities"
        ],
        "duration": 1,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Fetch Opportunities should return 200 on success for request relevant to OrderItem 0",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "should return 200 on success for request relevant to OrderItem 0"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C1",
        "Fetch Opportunities",
        "validation of Opportunity Feed extract for OrderItem 0"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at C1",
          "Fetch Opportunities",
          "validation of Opportunity Feed extract for OrderItem 0"
        ],
        "duration": 123,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "passes validation checks"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C1",
        "Fetch Opportunities",
        "validation of Opportunity Feed extract for OrderItem 0"
      ],
      "title": "matches the criteria 'TestOpportunityBookable' required for this test",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 matches the criteria 'TestOpportunityBookable' required for this test",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at C1",
          "Fetch Opportunities",
          "validation of Opportunity Feed extract for OrderItem 0"
        ],
        "duration": 0,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 matches the criteria 'TestOpportunityBookable' required for this test",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "matches the criteria 'TestOpportunityBookable' required for this test"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C1",
        "C1",
        "validation of C1"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 C1 validation of C1 passes validation checks",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at C1",
          "C1",
          "validation of C1"
        ],
        "duration": 3,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 C1 validation of C1 passes validation checks",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "passes validation checks"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C1",
        "Assert Opportunity Capacity (after C1)"
      ],
      "title": "should return 200 on success for request relevant to OrderItem 0",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Assert Opportunity Capacity (after C1) should return 200 on success for request relevant to OrderItem 0",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at C1",
          "Assert Opportunity Capacity (after C1)"
        ],
        "duration": 0,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Assert Opportunity Capacity (after C1) should return 200 on success for request relevant to OrderItem 0",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "should return 200 on success for request relevant to OrderItem 0"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C1",
        "Assert Opportunity Capacity (after C1)",
        "validation of Opportunity Feed extract for OrderItem 0"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Assert Opportunity Capacity (after C1) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at C1",
          "Assert Opportunity Capacity (after C1)",
          "validation of Opportunity Feed extract for OrderItem 0"
        ],
        "duration": 120,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Assert Opportunity Capacity (after C1) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "passes validation checks"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C1",
        "Assert Opportunity Capacity (after C1)"
      ],
      "title": "should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Assert Opportunity Capacity (after C1) should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at C1",
          "Assert Opportunity Capacity (after C1)"
        ],
        "duration": 1,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C1 Assert Opportunity Capacity (after C1) should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "Fetch Opportunities"
      ],
      "title": "should return 200 on success for request relevant to OrderItem 0",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Fetch Opportunities should return 200 on success for request relevant to OrderItem 0",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at C2",
          "Fetch Opportunities"
        ],
        "duration": 0,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Fetch Opportunities should return 200 on success for request relevant to OrderItem 0",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "should return 200 on success for request relevant to OrderItem 0"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "Fetch Opportunities",
        "validation of Opportunity Feed extract for OrderItem 0"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at C2",
          "Fetch Opportunities",
          "validation of Opportunity Feed extract for OrderItem 0"
        ],
        "duration": 97,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "passes validation checks"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "Fetch Opportunities",
        "validation of Opportunity Feed extract for OrderItem 0"
      ],
      "title": "matches the criteria 'TestOpportunityBookable' required for this test",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 matches the criteria 'TestOpportunityBookable' required for this test",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at C2",
          "Fetch Opportunities",
          "validation of Opportunity Feed extract for OrderItem 0"
        ],
        "duration": 0,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 matches the criteria 'TestOpportunityBookable' required for this test",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "matches the criteria 'TestOpportunityBookable' required for this test"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "C1"
      ],
      "title": "should return 200 on success",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 C1 should return 200 on success",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at C2",
          "C1"
        ],
        "duration": 0,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 C1 should return 200 on success",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "should return 200 on success"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "C1"
      ],
      "title": "Should have the same number of OrderItems as criteria",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 C1 Should have the same number of OrderItems as criteria",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at C2",
          "C1"
        ],
        "duration": 1,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 C1 Should have the same number of OrderItems as criteria",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "Should have the same number of OrderItems as criteria"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "C1"
      ],
      "title": "OrderItem at position 0 - capacities should not have changed from their initial values after C1/C2 (regardless of leasing)",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 C1 OrderItem at position 0 - capacities should not have changed from their initial values after C1/C2 (regardless of leasing)",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at C2",
          "C1"
        ],
        "duration": 0,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 C1 OrderItem at position 0 - capacities should not have changed from their initial values after C1/C2 (regardless of leasing)",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "OrderItem at position 0 - capacities should not have changed from their initial values after C1/C2 (regardless of leasing)"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "C1",
        "validation of C1"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 C1 validation of C1 passes validation checks",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at C2",
          "C1",
          "validation of C1"
        ],
        "duration": 89,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 C1 validation of C1 passes validation checks",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "passes validation checks"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "Assert Opportunity Capacity (after C1)"
      ],
      "title": "should return 200 on success for request relevant to OrderItem 0",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Assert Opportunity Capacity (after C1) should return 200 on success for request relevant to OrderItem 0",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at C2",
          "Assert Opportunity Capacity (after C1)"
        ],
        "duration": 0,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Assert Opportunity Capacity (after C1) should return 200 on success for request relevant to OrderItem 0",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "should return 200 on success for request relevant to OrderItem 0"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "Assert Opportunity Capacity (after C1)",
        "validation of Opportunity Feed extract for OrderItem 0"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Assert Opportunity Capacity (after C1) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at C2",
          "Assert Opportunity Capacity (after C1)",
          "validation of Opportunity Feed extract for OrderItem 0"
        ],
        "duration": 49,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Assert Opportunity Capacity (after C1) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "passes validation checks"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "C2",
        "validation of C2"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 C2 validation of C2 passes validation checks",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at C2",
          "C2",
          "validation of C2"
        ],
        "duration": 13,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 C2 validation of C2 passes validation checks",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "passes validation checks"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "Assert Opportunity Capacity (after C2)"
      ],
      "title": "should return 200 on success for request relevant to OrderItem 0",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Assert Opportunity Capacity (after C2) should return 200 on success for request relevant to OrderItem 0",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at C2",
          "Assert Opportunity Capacity (after C2)"
        ],
        "duration": 0,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Assert Opportunity Capacity (after C2) should return 200 on success for request relevant to OrderItem 0",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "should return 200 on success for request relevant to OrderItem 0"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "Assert Opportunity Capacity (after C2)",
        "validation of Opportunity Feed extract for OrderItem 0"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Assert Opportunity Capacity (after C2) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at C2",
          "Assert Opportunity Capacity (after C2)",
          "validation of Opportunity Feed extract for OrderItem 0"
        ],
        "duration": 88,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Assert Opportunity Capacity (after C2) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "passes validation checks"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at C2",
        "Assert Opportunity Capacity (after C2)"
      ],
      "title": "should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Assert Opportunity Capacity (after C2) should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at C2",
          "Assert Opportunity Capacity (after C2)"
        ],
        "duration": 0,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at C2 Assert Opportunity Capacity (after C2) should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "Fetch Opportunities"
      ],
      "title": "should return 200 on success for request relevant to OrderItem 0",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Fetch Opportunities should return 200 on success for request relevant to OrderItem 0",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at B or P",
          "Fetch Opportunities"
        ],
        "duration": 0,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Fetch Opportunities should return 200 on success for request relevant to OrderItem 0",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "should return 200 on success for request relevant to OrderItem 0"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "Fetch Opportunities",
        "validation of Opportunity Feed extract for OrderItem 0"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at B or P",
          "Fetch Opportunities",
          "validation of Opportunity Feed extract for OrderItem 0"
        ],
        "duration": 78,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "passes validation checks"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "Fetch Opportunities",
        "validation of Opportunity Feed extract for OrderItem 0"
      ],
      "title": "matches the criteria 'TestOpportunityBookable' required for this test",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 matches the criteria 'TestOpportunityBookable' required for this test",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at B or P",
          "Fetch Opportunities",
          "validation of Opportunity Feed extract for OrderItem 0"
        ],
        "duration": 0,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Fetch Opportunities validation of Opportunity Feed extract for OrderItem 0 matches the criteria 'TestOpportunityBookable' required for this test",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "matches the criteria 'TestOpportunityBookable' required for this test"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "C1"
      ],
      "title": "should return 200 on success",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C1 should return 200 on success",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at B or P",
          "C1"
        ],
        "duration": 0,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C1 should return 200 on success",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "should return 200 on success"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "C1"
      ],
      "title": "Should have the same number of OrderItems as criteria",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C1 Should have the same number of OrderItems as criteria",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at B or P",
          "C1"
        ],
        "duration": 1,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C1 Should have the same number of OrderItems as criteria",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "Should have the same number of OrderItems as criteria"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "C1"
      ],
      "title": "OrderItem at position 0 - capacities should not have changed from their initial values after C1/C2 (regardless of leasing)",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C1 OrderItem at position 0 - capacities should not have changed from their initial values after C1/C2 (regardless of leasing)",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at B or P",
          "C1"
        ],
        "duration": 0,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C1 OrderItem at position 0 - capacities should not have changed from their initial values after C1/C2 (regardless of leasing)",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "OrderItem at position 0 - capacities should not have changed from their initial values after C1/C2 (regardless of leasing)"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "C1",
        "validation of C1"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C1 validation of C1 passes validation checks",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at B or P",
          "C1",
          "validation of C1"
        ],
        "duration": 110,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C1 validation of C1 passes validation checks",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "passes validation checks"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "Assert Opportunity Capacity (after C1)"
      ],
      "title": "should return 200 on success for request relevant to OrderItem 0",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Assert Opportunity Capacity (after C1) should return 200 on success for request relevant to OrderItem 0",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at B or P",
          "Assert Opportunity Capacity (after C1)"
        ],
        "duration": 0,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Assert Opportunity Capacity (after C1) should return 200 on success for request relevant to OrderItem 0",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "should return 200 on success for request relevant to OrderItem 0"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "Assert Opportunity Capacity (after C1)",
        "validation of Opportunity Feed extract for OrderItem 0"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Assert Opportunity Capacity (after C1) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at B or P",
          "Assert Opportunity Capacity (after C1)",
          "validation of Opportunity Feed extract for OrderItem 0"
        ],
        "duration": 95,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Assert Opportunity Capacity (after C1) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "passes validation checks"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "C2"
      ],
      "title": "should return 200 on success",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C2 should return 200 on success",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at B or P",
          "C2"
        ],
        "duration": 0,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C2 should return 200 on success",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "should return 200 on success"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "C2"
      ],
      "title": "Should have the same number of OrderItems as criteria",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C2 Should have the same number of OrderItems as criteria",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at B or P",
          "C2"
        ],
        "duration": 1,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C2 Should have the same number of OrderItems as criteria",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "Should have the same number of OrderItems as criteria"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "C2"
      ],
      "title": "OrderItem at position 0 - capacities should not have changed from their initial values after C1/C2 (regardless of leasing)",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C2 OrderItem at position 0 - capacities should not have changed from their initial values after C1/C2 (regardless of leasing)",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at B or P",
          "C2"
        ],
        "duration": 0,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C2 OrderItem at position 0 - capacities should not have changed from their initial values after C1/C2 (regardless of leasing)",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "OrderItem at position 0 - capacities should not have changed from their initial values after C1/C2 (regardless of leasing)"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "C2",
        "validation of C2"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C2 validation of C2 passes validation checks",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at B or P",
          "C2",
          "validation of C2"
        ],
        "duration": 165,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P C2 validation of C2 passes validation checks",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "passes validation checks"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "Assert Opportunity Capacity (after C2)"
      ],
      "title": "should return 200 on success for request relevant to OrderItem 0",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Assert Opportunity Capacity (after C2) should return 200 on success for request relevant to OrderItem 0",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at B or P",
          "Assert Opportunity Capacity (after C2)"
        ],
        "duration": 0,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Assert Opportunity Capacity (after C2) should return 200 on success for request relevant to OrderItem 0",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "should return 200 on success for request relevant to OrderItem 0"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "Assert Opportunity Capacity (after C2)",
        "validation of Opportunity Feed extract for OrderItem 0"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Assert Opportunity Capacity (after C2) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at B or P",
          "Assert Opportunity Capacity (after C2)",
          "validation of Opportunity Feed extract for OrderItem 0"
        ],
        "duration": 165,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P Assert Opportunity Capacity (after C2) validation of Opportunity Feed extract for OrderItem 0 passes validation checks",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "passes validation checks"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "P",
        "validation of P"
      ],
      "title": "passes validation checks",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P P validation of P passes validation checks",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at B or P",
          "P",
          "validation of P"
        ],
        "duration": 3,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P P validation of P passes validation checks",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "passes validation checks"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Booking should fail because Broker is included in Order in NoBroker mode",
        "at B or P",
        "P"
      ],
      "title": "should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P P should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Booking should fail because Broker is included in Order in NoBroker mode",
          "at B or P",
          "P"
        ],
        "duration": 0,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Booking should fail because Broker is included in Order in NoBroker mode at B or P P should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`"
      }
    },
    {
      "type": "spec",
      "ancestorTitles": [
        "no-broker",
        "broker-included-nobroker-mode",
        "OpenBookingApprovalFlow",
        "IndividualFacilityUseSlot",
        "Feature Description Assertions (for OpenActive maintainers)"
      ],
      "title": "Feature Description `.testInterfaceActions` should match the Test Interface Actions that were used in the test",
      "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Feature Description Assertions (for OpenActive maintainers) Feature Description `.testInterfaceActions` should match the Test Interface Actions that were used in the test",
      "spec": {
        "ancestorTitles": [
          "no-broker",
          "broker-included-nobroker-mode",
          "OpenBookingApprovalFlow",
          "IndividualFacilityUseSlot",
          "Feature Description Assertions (for OpenActive maintainers)"
        ],
        "duration": 0,
        "failureMessages": [],
        "fullName": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot Feature Description Assertions (for OpenActive maintainers) Feature Description `.testInterfaceActions` should match the Test Interface Actions that were used in the test",
        "location": null,
        "numPassingAsserts": 0,
        "status": "passed",
        "title": "Feature Description `.testInterfaceActions` should match the Test Interface Actions that were used in the test"
      }
    }
  ],
  "timestamp": "Fri Jan 31 2025 11:14:42 GMT+0000 (Coordinated Universal Time)",
  "config": {
    "testCategory": "broker-role",
    "testFeature": "no-broker",
    "testFeatureImplemented": true,
    "testIdentifier": "broker-included-nobroker-mode",
    "testName": "Broker included in Order in NoBroker mode",
    "testDescription": "Request shoud fail if broker is included in Order in NoBroker mode for C1, C2 & B request.",
    "testOpportunityCriteria": "TestOpportunityBookable",
    "controlOpportunityCriteria": "TestOpportunityBookable"
  },
  "implemented": true,
  "testFileIdentifier": "no-broker broker-included-nobroker-mode OpenBookingApprovalFlow IndividualFacilityUseSlot",
  "suites": [
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at C1"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at C1",
      "Fetch Opportunities"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at C1",
      "Fetch Opportunities",
      "validation of Opportunity Feed extract for OrderItem 0"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at C1",
      "C1"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at C1",
      "C1",
      "validation of C1"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at C1",
      "Assert Opportunity Capacity (after C1)"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at C1",
      "Assert Opportunity Capacity (after C1)",
      "validation of Opportunity Feed extract for OrderItem 0"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at C2"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at C2",
      "Fetch Opportunities"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at C2",
      "Fetch Opportunities",
      "validation of Opportunity Feed extract for OrderItem 0"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at C2",
      "C1"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at C2",
      "C1",
      "validation of C1"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at C2",
      "Assert Opportunity Capacity (after C1)"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at C2",
      "Assert Opportunity Capacity (after C1)",
      "validation of Opportunity Feed extract for OrderItem 0"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at C2",
      "C2"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at C2",
      "C2",
      "validation of C2"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at C2",
      "Assert Opportunity Capacity (after C2)"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at C2",
      "Assert Opportunity Capacity (after C2)",
      "validation of Opportunity Feed extract for OrderItem 0"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at B or P"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at B or P",
      "Fetch Opportunities"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at B or P",
      "Fetch Opportunities",
      "validation of Opportunity Feed extract for OrderItem 0"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at B or P",
      "C1"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at B or P",
      "C1",
      "validation of C1"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at B or P",
      "Assert Opportunity Capacity (after C1)"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at B or P",
      "Assert Opportunity Capacity (after C1)",
      "validation of Opportunity Feed extract for OrderItem 0"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at B or P",
      "C2"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at B or P",
      "C2",
      "validation of C2"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at B or P",
      "Assert Opportunity Capacity (after C2)"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at B or P",
      "Assert Opportunity Capacity (after C2)",
      "validation of Opportunity Feed extract for OrderItem 0"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at B or P",
      "P"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Booking should fail because Broker is included in Order in NoBroker mode",
      "at B or P",
      "P",
      "validation of P"
    ],
    [
      "no-broker",
      "broker-included-nobroker-mode",
      "OpenBookingApprovalFlow",
      "IndividualFacilityUseSlot",
      "Feature Description Assertions (for OpenActive maintainers)"
    ]
  ],
  "title": "no-broker >> broker-included-nobroker-mode (OpenBookingApprovalFlow >> IndividualFacilityUseSlot)",
  "workingLog": "",
  "specs": {
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at C1,Fetch Opportunities": [
      "should return 200 on success for request relevant to OrderItem 0"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at C1,Fetch Opportunities,validation of Opportunity Feed extract for OrderItem 0": [
      "passes validation checks",
      "matches the criteria 'TestOpportunityBookable' required for this test"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at C1,C1,validation of C1": [
      "passes validation checks"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at C1,Assert Opportunity Capacity (after C1)": [
      "should return 200 on success for request relevant to OrderItem 0",
      "should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at C1,Assert Opportunity Capacity (after C1),validation of Opportunity Feed extract for OrderItem 0": [
      "passes validation checks"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at C2,Fetch Opportunities": [
      "should return 200 on success for request relevant to OrderItem 0"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at C2,Fetch Opportunities,validation of Opportunity Feed extract for OrderItem 0": [
      "passes validation checks",
      "matches the criteria 'TestOpportunityBookable' required for this test"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at C2,C1": [
      "should return 200 on success",
      "Should have the same number of OrderItems as criteria",
      "OrderItem at position 0 - capacities should not have changed from their initial values after C1/C2 (regardless of leasing)"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at C2,C1,validation of C1": [
      "passes validation checks"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at C2,Assert Opportunity Capacity (after C1)": [
      "should return 200 on success for request relevant to OrderItem 0"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at C2,Assert Opportunity Capacity (after C1),validation of Opportunity Feed extract for OrderItem 0": [
      "passes validation checks"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at C2,C2,validation of C2": [
      "passes validation checks"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at C2,Assert Opportunity Capacity (after C2)": [
      "should return 200 on success for request relevant to OrderItem 0",
      "should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at C2,Assert Opportunity Capacity (after C2),validation of Opportunity Feed extract for OrderItem 0": [
      "passes validation checks"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at B or P,Fetch Opportunities": [
      "should return 200 on success for request relevant to OrderItem 0"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at B or P,Fetch Opportunities,validation of Opportunity Feed extract for OrderItem 0": [
      "passes validation checks",
      "matches the criteria 'TestOpportunityBookable' required for this test"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at B or P,C1": [
      "should return 200 on success",
      "Should have the same number of OrderItems as criteria",
      "OrderItem at position 0 - capacities should not have changed from their initial values after C1/C2 (regardless of leasing)"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at B or P,C1,validation of C1": [
      "passes validation checks"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at B or P,Assert Opportunity Capacity (after C1)": [
      "should return 200 on success for request relevant to OrderItem 0"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at B or P,Assert Opportunity Capacity (after C1),validation of Opportunity Feed extract for OrderItem 0": [
      "passes validation checks"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at B or P,C2": [
      "should return 200 on success",
      "Should have the same number of OrderItems as criteria",
      "OrderItem at position 0 - capacities should not have changed from their initial values after C1/C2 (regardless of leasing)"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at B or P,C2,validation of C2": [
      "passes validation checks"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at B or P,Assert Opportunity Capacity (after C2)": [
      "should return 200 on success for request relevant to OrderItem 0"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at B or P,Assert Opportunity Capacity (after C2),validation of Opportunity Feed extract for OrderItem 0": [
      "passes validation checks"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at B or P,P,validation of P": [
      "passes validation checks"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Booking should fail because Broker is included in Order in NoBroker mode,at B or P,P": [
      "should return a response containing `\"@type\": \"IncompleteBrokerDetailsError\"` with status code `400`"
    ],
    "no-broker,broker-included-nobroker-mode,OpenBookingApprovalFlow,IndividualFacilityUseSlot,Feature Description Assertions (for OpenActive maintainers)": [
      "Feature Description `.testInterfaceActions` should match the Test Interface Actions that were used in the test"
    ]
  },
  "description": "Request shoud fail if broker is included in Order in NoBroker mode for C1, C2 & B request.",
  "bookingFlow": "OpenBookingApprovalFlow",
  "opportunityType": "IndividualFacilityUseSlot",
  "baseAncestorTitles": [
    "no-broker",
    "broker-included-nobroker-mode",
    "OpenBookingApprovalFlow",
    "IndividualFacilityUseSlot"
  ]
}